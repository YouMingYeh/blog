<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title><![CDATA[YYM's blog]]></title><description><![CDATA[Website Application and Software Development.]]></description><link>http://localhost:2368/</link><image><url>http://localhost:2368/favicon.png</url><title>YYM&apos;s blog</title><link>http://localhost:2368/</link></image><generator>Ghost 5.49</generator><lastBuildDate>Sun, 21 May 2023 20:39:38 GMT</lastBuildDate><atom:link href="http://localhost:2368/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[Notes for JavaScript Security Vulnerabilities Tutorial from 
freeCodeCamp.org]]></title><description><![CDATA[Hey! this is the notes for the video JavaScript Security Vulnerabilities Tutorial — With Code Examples from freeCodeCamp.org. Hope this…]]></description><link>http://localhost:2368/notes-for-javascript-security-vulnerabilities-tutorial-from-freecodecamp-org/</link><guid isPermaLink="false">646a707090219f1c72e9b6ca</guid><dc:creator><![CDATA[葉又銘 You-Ming Yeh]]></dc:creator><pubDate>Sun, 21 May 2023 17:07:15 GMT</pubDate><content:encoded><![CDATA[<p>Hey! this is the notes for the video <a href="https://www.youtube.com/watch?v=ypNKKYUJE5o&amp;ref=localhost" rel="noopener">JavaScript Security Vulnerabilities Tutorial&#x200A;&#x2014;&#x200A;With Code Examples</a> from <a href="https://www.youtube.com/@freecodecamp?ref=localhost" rel="noopener">freeCodeCamp.org</a>. Hope this help you learned quicker!</p><figure class="kg-card kg-image-card"><img src="http://localhost:2368/content/images/max/800/1-yiw9saxncpwv2kvdd-3aaw.png" class="kg-image" alt loading="lazy" width="512" height="512"></figure><p>Article Structure:</p><ol><li>URL Validating</li><li>Request Handling</li><li>Token Checking</li><li>Token Validating</li><li>NoSQL Injection</li><li>Signup handling</li></ol><hr><h3 id="url-validating">URL Validating</h3><p>So you might have some code like this.function useQuery() {<br> &#xA0;const { search } = useLocation();<br> &#xA0;return React.useMemo(() =&gt; new URLSearchParams(search), [search]);<br>}<br><br>function QueryParamsDemo() {<br> &#xA0;let query = useQuery();<br> &#xA0;return &lt;div&gt;<br> &#xA0; &#xA0;&lt;h1&gt;Return home?&lt;/h2&gt;<br> &#xA0; &#xA0;&lt;a href={query.get(&quot;redirect&quot;)}&gt;click to go home!&lt;/a&gt;<br> &#xA0;&lt;/div&gt;<br>}</p><p>At first glance, this code may seem harmless&#x200A;&#x2014;&#x200A;a simple implementation of a redirect home link using a query parameter called &#x201C;redirect.&#x201D;</p><p>looks good, right?</p><p><strong>no!!!</strong></p><p>Unbeknownst to many developers, this code is actually a typical example of a <strong>Vulnerable JavaScript Component</strong> with a <strong>Cross-Site Scripting (XSS)</strong> vulnerability.</p><p>Imagine an attacker who can craft a malicious URL like this: <code><a href="https://example.com/settings?redirect=javascript%3A%2F%2FdoSomethingbad%28%29&amp;ref=localhost" rel="noopener">https://example.com/settings?redirect=javascript://doSomethingbad()</a></code></p><p>(Optional) In this scenario, if a user were to click on the provided link, the JavaScript code specified in the <code>redirect</code> query parameter (<code>doSomethingbad()</code>) would be executed directly in their browser. This poses a significant security risk, allowing the attacker to perform unauthorized actions, steal sensitive data, or compromise the user&apos;s browsing experience.</p><p>To address this vulnerability and protect our application and users from potential XSS attacks, we need to implement proper URL validation. Let&#x2019;s introduce a <code>validateURL</code> function that checks if the URL has a valid &quot;https:&quot; protocol:</p><ol><li>Validate the urlfunction validateURL(url) {<br> &#xA0;try {<br> &#xA0; &#xA0;const userSuppliedUrl = new URL(url);<br><br> &#xA0; &#xA0;if (userSuppliedUrl.protocol === &quot;https:&quot;) {<br> &#xA0; &#xA0; &#xA0;return url;<br> &#xA0; &#xA0;}<br> &#xA0;} catch (error) {<br> &#xA0; &#xA0;// Handle any potential parsing errors<br> &#xA0;}<br><br> &#xA0;return &quot;/&quot;;<br>}<br>...<br><br>return (<br> &#xA0;&lt;div&gt;<br> &#xA0; &#xA0;&lt;h1&gt;Return home?&lt;/h2&gt;<br> &#xA0; &#xA0;&lt;a href={validateURL(query.get(&quot;redirect&quot;))}&gt;click to go home!&lt;/a&gt;<br> &#xA0;&lt;/div&gt;<br>);</li></ol><hr><h3 id="request-handling">Request Handling</h3><p>Here is a code handling the get request with query url for fetching data:app.get(&quot;/api/data&quot;, async (req, res) =&gt; {<br><br> &#xA0;const url = req.query.url;<br><br> &#xA0;try {<br> &#xA0; &#xA0;const response = await fetch(url);<br> &#xA0; &#xA0;const data = await response.json();<br> &#xA0; &#xA0;<br> &#xA0; &#xA0;res.status(200).json({ data: data });<br> &#xA0;} catch(err) {<br> &#xA0; &#xA0;console.log(err)<br> &#xA0; &#xA0;res.status(500).json({ err: err.msg });<br> &#xA0;}<br>}</p><p>The code above extracts the <code>url</code> parameter directly from the request without any validation. This exposes the server to potential <strong>SSRF </strong>attacks where an attacker can manipulate the <code>url</code> parameter to access sensitive internal resources or execute arbitrary code.</p><p>So we need to <strong>Implementing URL Validation and Whitelisting:</strong>const allowedURLs = [&quot;https://internal.myapp.com/api/data/i-am-allowed/&quot;];<br><br>app.get(&quot;/api/data&quot;, async (req, res) =&gt; {<br> &#xA0;const url = req.query.url;<br><br> &#xA0;if (!allowedURLs.includes(url)) {<br> &#xA0; &#xA0;return res.status(403).json({ error: &quot;Invalid URL&quot; });<br> &#xA0;}<br><br> &#xA0;try {<br> &#xA0; &#xA0;const response = await fetch(url);<br> &#xA0; &#xA0;const data = await response.json();<br> &#xA0; &#xA0;<br> &#xA0; &#xA0;res.status(200).json({ data: data });<br> &#xA0;} catch(err) {<br> &#xA0; &#xA0;console.log(err)<br> &#xA0; &#xA0;res.status(500).json({ error: err.msg });<br> &#xA0;}<br>});</p><p>In the enhanced code, we introduce an <code>allowedURLs</code> array containing the whitelist of allowed URLs. We then validate the <code>url</code> parameter by checking if it exists in the <code>allowedURLs</code> array. If the URL is not in the whitelist, a <code>403 Forbidden</code> response is returned to reject the request.</p><hr><h3 id="token-checking"><strong>Token Checking</strong></h3><p>This is a function implementing token checking:export function checkToken(userSupplied) {<br> &#xA0;<br> &#xA0;const account = account.retrieveToken(userSupplied)<br> &#xA0;if(account) {<br> &#xA0; &#xA0;if(account.service.token === user.service.token) {<br> &#xA0; &#xA0; &#xA0;return true;<br> &#xA0; &#xA0;}<br> &#xA0;}<br> &#xA0;return false;<br>}</p><p>The code above verifies a user-supplied token against an account&#x2019;s service token. However, it overlooks the potential timing attack vulnerability.</p><p>Timing attacks exploit variations in execution time to deduce sensitive information. In token verification, an attacker can measure the execution time to determine if the token is correct or not.</p><p>In the vulnerable code, the execution time of the <code>if</code> statement depends on the token comparison. An attacker could exploit this by providing tokens and analyzing the timing differences, compromising the verification process.</p><p>For example:// actual token: &quot;abc&quot;<br>// test1 &quot;def&quot; -&gt; takes 0ms -&gt; okayyy<br>// test2 &quot;ghi&quot; -&gt; takes 0ms -&gt; hmm...<br>// test2 &quot;aaa&quot; -&gt; takes 1ms -&gt; something found here!</p><p>This is how we fix it:import crypto from &quot;crypto&quot;<br><br>export function checkToken(userSupplied) {<br> &#xA0;<br> &#xA0;const account = account.retrieveToken(userSupplied)<br> &#xA0;if(account) {<br> &#xA0; &#xA0;if(crypto.timingSafeEqual(account.service.token, user.service.token)) {<br> &#xA0; &#xA0; &#xA0;return true;<br> &#xA0; &#xA0;}<br> &#xA0;}<br> &#xA0;return false;<br>}</p><p>We can simply use <code>timingSafeEqual()</code> from <code>crypto</code> package.</p><hr><h3 id="token-validating">Token Validating</h3><p>Here is a function implementing token validating:const SOMEOBJECT = {}<br><br>app.get(&quot;/validateToken&quot;, (req, res) =&gt; {<br> &#xA0;if(req.header(&apos;token&apos;)) {<br> &#xA0; &#xA0;const token = Buffer.from(req.header(&apos;token&apos;), &apos;base64&apos;)<br><br> &#xA0; &#xA0;if(SOMEOBJECT[token] &amp;&amp; token) {<br> &#xA0; &#xA0; &#xA0;return res.send(&quot;true&quot;)<br> &#xA0; &#xA0;}<br> &#xA0;}<br>})</p><p>In the above code, there is a vulnerability that can be exploited by providing a specific value for the <code>token</code>. When the <code>token</code> is set to <code>&quot;__proto__&quot;</code>, it can bypass the check <code>SOMEOBJECT[token]</code> and lead to unexpected behavior.</p><p>To address this vulnerability, we need to ensure that the <code>token</code> value does not access unintended properties. Here&apos;s the improved code:// Code with vulnerability fixed<br>const SOMEOBJECT = {};<br><br>app.get(&quot;/validateToken&quot;, (req, res) =&gt; {<br> &#xA0;const token = req.header(&apos;token&apos;);<br><br> &#xA0;if (token &amp;&amp; Buffer.from(token, &apos;base64&apos;)) {<br> &#xA0; &#xA0;if (Object.prototype.hasOwnProperty.call(SOMEOBJECT, token)) {<br> &#xA0; &#xA0; &#xA0;return res.send(&quot;true&quot;);<br> &#xA0; &#xA0;} else {<br> &#xA0; &#xA0; &#xA0;return res.send(&quot;false&quot;);<br> &#xA0; &#xA0;}<br> &#xA0;} else {<br> &#xA0; &#xA0;return res.status(400).send(&quot;Invalid token&quot;);<br> &#xA0;}<br>});</p><hr><h3 id="nosql-injection">NoSQL Injection</h3><p>NoSQL injection attacks target applications that use NoSQL databases by exploiting vulnerabilities in the handling of user input. Similar to SQL injection attacks, attackers manipulate or inject malicious code into database queries, taking advantage of improper input validation and construction of queries.</p><p>Consider the following vulnerable code snippet:const userId = req.body.userId;<br>const query = { $where: `this.userId == &apos;${userId}&apos;` };<br><br>db.collection(&apos;users&apos;).find(query, (err, result) =&gt; {<br> &#xA0;if (err) {<br> &#xA0; &#xA0;// Handle error<br> &#xA0;} else {<br> &#xA0; &#xA0;// Process result<br> &#xA0;}<br>});</p><p>In this code, the <code>userId</code> parameter is concatenated directly into the query using template literals. An attacker could attempt to manipulate the <code>userId</code> parameter to perform unauthorized actions or retrieve sensitive data. Here&apos;s an example of a malicious payload an attacker might use:userId: &apos; || this.password || &apos;</p><p>When the attacker provides the above payload, the resulting query becomes:{ $where: `this.userId == &apos;&apos; || this.password || &apos;&apos;` }</p><p>In this case, the attacker is attempting to retrieve the <code>password</code> field from the database by injecting additional code through the <code>userId</code> parameter. If the query is executed without proper input validation or query construction, it may return unintended results, potentially exposing sensitive information.</p><p>We don&#x2019;t go into details about this today. It is better for you to check it out yourself!</p><hr><h3 id="signup-handling">Signup handling</h3><p>Following is an typical concept when your code is handling a signup request.</p><p>you might have a code like this:if(db.users.find(...),(err, res) =&gt; {<br> &#xA0; if(err) {<br> &#xA0; // handle err...<br> &#xA0;} else {<br> &#xA0; &#xA0;await db.users.insert(req.body) // -&gt; bad!!<br> &#xA0;}<br>})</p><p>and this is pretty bad cause attacker can easily sent a request body with something like to acquire admin permission:const body = <br>{<br> &#xA0;username: &quot;...&quot;,<br> &#xA0;password: &quot;...&quot;,<br> &#xA0;isAdmin: true //-&gt; oh no!<br>}</p><p>yeah so basically, you just need to insert the user with the params you actually want:db.users.insert({username: req.body.username, password: encrypt(req.body.password)})</p><hr><p>Alright, that&#x2019;s it! Hope you learned well! Do not forget to clap&#x1F970;~</p><p>credit :<a href="https://www.youtube.com/watch?v=ypNKKYUJE5o&amp;ref=localhost" rel="noopener">JavaScript Security Vulnerabilities Tutorial&#x200A;&#x2014;&#x200A;With Code Examples</a></p>]]></content:encoded></item><item><title><![CDATA[2130. Maximum Twin Sum of a Linked List | LeetCode Notes]]></title><description><![CDATA[In a linked list of size n, where n is even, the ith node (0-indexed) of the linked list is known as the twin of the (n-1-i)th node, if 0…]]></description><link>http://localhost:2368/2130-maximum-twin-sum-of-a-linked-list-leetcode-notes/</link><guid isPermaLink="false">646a707090219f1c72e9b6cb</guid><dc:creator><![CDATA[葉又銘 You-Ming Yeh]]></dc:creator><pubDate>Wed, 17 May 2023 09:04:54 GMT</pubDate><media:content url="http://localhost:2368/content/images/2023/05/60e828b528b05b578ee7be6f_5fa8ee0b97a884356c11cd69_meta20image2042.webp" medium="image"/><content:encoded><![CDATA[<img src="http://localhost:2368/content/images/2023/05/60e828b528b05b578ee7be6f_5fa8ee0b97a884356c11cd69_meta20image2042.webp" alt="2130. Maximum Twin Sum of a Linked List | LeetCode Notes"><p>In a linked list of size <code>n</code>, where <code>n</code> is <strong>even</strong>, the <code>ith</code> node (<strong>0-indexed</strong>) of the linked list is known as the <strong>twin</strong> of the <code>(n-1-i)th</code> node, if <code>0 &lt;= i &lt;= (n / 2) - 1</code>.</p><ul><li>For example, if <code>n = 4</code>, then node <code>0</code> is the twin of node <code>3</code>, and node <code>1</code> is the twin of node <code>2</code>. These are the only nodes with twins for <code>n = 4</code>.</li></ul><p>The <strong>twin sum </strong>is defined as the sum of a node and its twin.</p><figure class="kg-card kg-image-card"><img src="http://localhost:2368/content/images/max/800/1-s6ajslna2aqjjjysymqora.png" class="kg-image" alt="2130. Maximum Twin Sum of a Linked List | LeetCode Notes" loading="lazy" width="800" height="257" srcset="http://localhost:2368/content/images/size/w600/max/800/1-s6ajslna2aqjjjysymqora.png 600w, http://localhost:2368/content/images/max/800/1-s6ajslna2aqjjjysymqora.png 800w" sizes="(min-width: 720px) 720px"></figure><p>Given the <code>head</code> of a linked list with even length, return <em>the </em><strong><em>maximum twin sum</em></strong><em> of the linked list</em>.</p><h4 id="points">Points</h4><ol><li>How to reach the mid</li><li>You may want to have two pointers. One from head to mid, and another from tail to mid.</li><li>How to reverse nodeint pairSum(ListNode* head) {<br> &#xA0; &#xA0; &#xA0; &#xA0;// 1. finding the mid<br> &#xA0; &#xA0; &#xA0; &#xA0;ListNode* slow = head;<br> &#xA0; &#xA0; &#xA0; &#xA0;ListNode* fast = head;<br> &#xA0; &#xA0; &#xA0; &#xA0;<br> &#xA0; &#xA0; &#xA0; &#xA0;while(fast &amp;&amp; fast-&gt;next) {<br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;slow = slow-&gt;next;<br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;fast = fast-&gt;next-&gt;next;<br> &#xA0; &#xA0; &#xA0; &#xA0;}<br><br> &#xA0; &#xA0; &#xA0; &#xA0;ListNode* next = NULL;<br> &#xA0; &#xA0; &#xA0; &#xA0;ListNode* prev = NULL;<br><br> &#xA0; &#xA0; &#xA0; &#xA0;// 2. construct a new list &quot;tail to mid&quot;, <br> &#xA0; &#xA0; &#xA0; &#xA0;// where the `prev` will be the head of the &quot;tail to mid&quot;<br> &#xA0; &#xA0; &#xA0; &#xA0;while(slow) {<br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;next = slow-&gt;next; <br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;slow-&gt;next = prev;<br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;prev = slow;<br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;slow = next;<br> &#xA0; &#xA0; &#xA0; &#xA0;}<br> &#xA0; &#xA0; &#xA0; &#xA0;<br> &#xA0; &#xA0; &#xA0; &#xA0;// calcuate...<br> &#xA0; &#xA0; &#xA0; &#xA0;while(prev) {<br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;MAX = max(MAX, head-&gt;val + prev-&gt;val);<br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;head = head-&gt;next;<br> &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;prev = prev-&gt;next;<br> &#xA0; &#xA0; &#xA0; &#xA0;}<br><br> &#xA0; &#xA0; &#xA0; &#xA0;return MAX;<br> &#xA0; &#xA0;}</li><li>We can find the mid using a <code>slow</code> pointer and a <code>fast</code> pointer. The <code>slow</code> one takes 1 step. The <code>fast</code> takes two steps. Eventually, when the <code>fast</code> reach the end, the <code>slow</code> will be at the mid.</li><li>To construct a new list from tail to mid, we reverse the direction of the list every step. ( It is better for you to think what the code means. )</li></ol>]]></content:encoded></item><item><title><![CDATA[2466. Count Ways To Build Good Strings | LeetCode Notes]]></title><description><![CDATA[Given the integers zero, one, low, and high, we can construct a string by starting with an empty string, and then at each step perform…]]></description><link>http://localhost:2368/2466-count-ways-to-build-good-strings-leetcode-notes/</link><guid isPermaLink="false">646a707090219f1c72e9b6d0</guid><dc:creator><![CDATA[葉又銘 You-Ming Yeh]]></dc:creator><pubDate>Tue, 16 May 2023 15:36:25 GMT</pubDate><media:content url="http://localhost:2368/content/images/2023/05/60e828b528b05b578ee7be6f_5fa8ee0b97a884356c11cd69_meta20image2042-1.webp" medium="image"/><content:encoded><![CDATA[<img src="http://localhost:2368/content/images/2023/05/60e828b528b05b578ee7be6f_5fa8ee0b97a884356c11cd69_meta20image2042-1.webp" alt="2466. Count Ways To Build Good Strings | LeetCode Notes"><p>Given the integers <code>zero</code>, <code>one</code>, <code>low</code>, and <code>high</code>, we can construct a string by starting with an empty string, and then at each step perform either of the following:</p><ul><li>Append the character <code>&apos;0</code></li><li><code>&apos;</code> <code>zero</code> times.</li><li>Append the character <code>&apos;1&apos;</code> <code>one</code> times.</li></ul><p>This can be performed any number of times.</p><p>A <strong>good</strong> string is a string constructed by the above process having a <strong>length</strong> between <code>low</code> and <code>high</code> (<strong>inclusive</strong>).</p><p>Return <em>the number of </em><strong><em>different</em></strong><em> good strings that can be constructed satisfying these properties.</em> Since the answer can be large, return it <strong>modulo</strong> <code>10^9 + 7</code>.</p><figure class="kg-card kg-image-card"><img src="http://localhost:2368/content/images/max/800/1-ihgynlcsrofx9oncronswa.png" class="kg-image" alt="2466. Count Ways To Build Good Strings | LeetCode Notes" loading="lazy" width="800" height="433" srcset="http://localhost:2368/content/images/size/w600/max/800/1-ihgynlcsrofx9oncronswa.png 600w, http://localhost:2368/content/images/max/800/1-ihgynlcsrofx9oncronswa.png 800w" sizes="(min-width: 720px) 720px"></figure><h4 id="points">Points</h4><ol><li>dp</li><li>find subproblem</li></ol><h4 id="solutionclass-solution-define-ll-long-longpublic-ll-mod-1e9-7-int-countgoodstrings-ll-low-ll-high-ll-zero-ll-one-vectorll-dp-100005-1-return-solve-0-low-high-zero-one-dp-ll-solve-ll-len-ll-low-ll-high-ll-zero-ll-one-vectorll-dp-if-len-high-return-0-if-this-len-calculated-if-dp-len-1-return-dp-len-ll-ans-0-if-current-len-valid-if-len-high-len-low-ans-1-string-with-this-len-ends-with-0-case-ends-with-1-case-ans-solve-len-zero-low-high-zero-one-dp-mod-solve-len-one-low-high-zero-one-dp-mod-mod-dp-len-ans-return-ans-">Solutionclass Solution {<br><br> &#xA0; &#xA0;#define ll long long<br>public:<br> &#xA0; &#xA0;ll mod = 1e9+7;<br><br> &#xA0; &#xA0;int countGoodStrings(ll low, ll high, ll zero, ll one) {<br> &#xA0; &#xA0; &#xA0; &#xA0;vector&lt;ll&gt; dp(100005, -1);<br> &#xA0; &#xA0; &#xA0; &#xA0;return solve(0, low, high, zero, one, dp);<br> &#xA0; &#xA0;}<br><br> &#xA0; &#xA0;ll solve(ll len, ll low, ll high, ll zero, ll one, vector&lt;ll&gt;&amp; dp) {<br> &#xA0; &#xA0; &#xA0; &#xA0;if(len &gt; high) return 0;<br><br> &#xA0; &#xA0; &#xA0; &#xA0;// if this len calculated<br> &#xA0; &#xA0; &#xA0; &#xA0;if(dp[len] != -1) return dp[len];<br> &#xA0; &#xA0; &#xA0; &#xA0;ll ans = 0;<br> &#xA0; &#xA0; &#xA0; &#xA0;// if current len valid<br> &#xA0; &#xA0; &#xA0; &#xA0;if(len &lt;= high &amp;&amp; len &gt;= low) ans += 1;<br><br> &#xA0; &#xA0; &#xA0; &#xA0;// string with this `len` ends with &apos;0&apos; case + ends with &apos;1&apos; case<br> &#xA0; &#xA0; &#xA0; &#xA0;ans += (solve(len+zero, low, high, zero, one, dp) % mod + solve(len+one, low, high, zero, one, dp) % mod) % mod;<br> &#xA0; &#xA0; &#xA0; &#xA0;dp[len] = ans;<br> &#xA0; &#xA0; &#xA0; &#xA0;return ans;<br> &#xA0; &#xA0;}<br>};</h4><ol><li>So we define <br><em>S[len]</em> <br>= the total possible strings starting with length = <em>len</em><br>= <em>S[len+zero] + S[len+one] + 1</em></li><li>More Explain: If you have a string with length k now, the total possible strings you can get by appending &#x2018;0&#x2019; or &#x2018;1&#x2019; to it will be <em>S[len+zero] + S[len+one] + yourself(=1).</em></li><li>Or, If you have a string with length k now, you might want to append &#x2018;0&#x2019;. So then you will need to calculate &#x201C;If you have a string with length k + <code>zero</code> now, &#x2026;&#x201D;.</li></ol>]]></content:encoded></item><item><title><![CDATA[1721. Swapping Nodes in a Linked List | LeetCode Notes]]></title><description><![CDATA[You are given the head of a linked list, and an integer k.]]></description><link>http://localhost:2368/1721-swapping-nodes-in-a-linked-list-leetcode-notes/</link><guid isPermaLink="false">646a707090219f1c72e9b6d1</guid><dc:creator><![CDATA[葉又銘 You-Ming Yeh]]></dc:creator><pubDate>Tue, 16 May 2023 11:45:41 GMT</pubDate><media:content url="http://localhost:2368/content/images/2023/05/60e828b528b05b578ee7be6f_5fa8ee0b97a884356c11cd69_meta20image2042-2.webp" medium="image"/><content:encoded><![CDATA[<img src="http://localhost:2368/content/images/2023/05/60e828b528b05b578ee7be6f_5fa8ee0b97a884356c11cd69_meta20image2042-2.webp" alt="1721. Swapping Nodes in a Linked List | LeetCode Notes"><p>You are given the <code>head</code> of a linked list, and an integer <code>k</code>.</p><p>Return <em>the head of the linked li</em></p><p><em>st after </em><strong><em>swapping</em></strong><em> the values of the </em><code>kth</code> <em>node from the beginning and the </em><code>kth</code> <em>node from the end (the list is </em><strong><em>1-indexed</em></strong><em>).</em></p><figure class="kg-card kg-image-card"><img src="http://localhost:2368/content/images/max/800/1-aeumnk4j7s_fmjvjge7rgw.png" class="kg-image" alt="1721. Swapping Nodes in a Linked List | LeetCode Notes" loading="lazy" width="800" height="519" srcset="http://localhost:2368/content/images/size/w600/max/800/1-aeumnk4j7s_fmjvjge7rgw.png 600w, http://localhost:2368/content/images/max/800/1-aeumnk4j7s_fmjvjge7rgw.png 800w" sizes="(min-width: 720px) 720px"></figure><h4 id="points">Points</h4><ol><li>Swap <strong>values</strong></li><li>counting from 2-&gt;5 = counting from 1-&gt;4 <strong>!important</strong></li></ol><h4 id="solutionlistnode-swapnodes-listnode-head-int-k-nodes-to-be-swapped-listnode-left-head-right-head-find-right-for-int-i-0-i-k-1-i-right-right-next-1-find-left-listnode-tmp-right-while-tmp-next-left-left-next-tmp-tmp-next-swap-values-swap-right-val-left-val-return-head-">SolutionListNode* swapNodes(ListNode* head, int k) {<br> &#xA0; &#xA0;// nodes to be swapped<br> &#xA0; &#xA0;ListNode *left = head, *right = head;<br><br> &#xA0; &#xA0;// find right<br> &#xA0; &#xA0;for (int i = 0; i &lt; k-1; i++) {<br> &#xA0; &#xA0; &#xA0; &#xA0;right = right-&gt;next;<br> &#xA0; &#xA0;}<br> &#xA0; &#xA0;<br> &#xA0; &#xA0;// 1. find left<br> &#xA0; &#xA0;ListNode *tmp = right;<br> &#xA0; &#xA0;while (tmp-&gt;next) {<br> &#xA0; &#xA0; &#xA0; &#xA0;left = left-&gt;next;<br> &#xA0; &#xA0; &#xA0; &#xA0;tmp = tmp-&gt;next;<br> &#xA0; &#xA0;}<br> &#xA0; &#xA0;<br> &#xA0; &#xA0;//swap values<br> &#xA0; &#xA0;swap(right-&gt;val, left-&gt;val);<br> &#xA0; &#xA0;<br> &#xA0; &#xA0;return head;<br>}</h4><ol><li><code>tmp</code> is inited to be the k-th node</li><li><code>tmp</code> walks to the end = <code>left</code> walks to the correct position (reversed k-th node)</li></ol>]]></content:encoded></item><item><title><![CDATA[24. Swap Nodes in Pairs | LeetCode Notes]]></title><description><![CDATA[Given a linked list, swap every two adjacent nodes and return its head. You must solve the problem without modifying the values in the…]]></description><link>http://localhost:2368/24-swap-nodes-in-pairs-leetcode-notes/</link><guid isPermaLink="false">646a707090219f1c72e9b6d2</guid><dc:creator><![CDATA[葉又銘 You-Ming Yeh]]></dc:creator><pubDate>Tue, 16 May 2023 10:59:37 GMT</pubDate><media:content url="http://localhost:2368/content/images/2023/05/60e828b528b05b578ee7be6f_5fa8ee0b97a884356c11cd69_meta20image2042-3.webp" medium="image"/><content:encoded><![CDATA[<img src="http://localhost:2368/content/images/2023/05/60e828b528b05b578ee7be6f_5fa8ee0b97a884356c11cd69_meta20image2042-3.webp" alt="24. Swap Nodes in Pairs | LeetCode Notes"><p>Given a linked list, swap every two adjacent nodes and return its head. You must solve the problem without modifying the values in the list&#x2019;s nodes (i.e., only nodes themselves may be changed.)</p><figure class="kg-card kg-image-card"><img src="http://localhost:2368/content/images/max/800/1-16rq3ndxy0rf8j4dkp0a7q.png" class="kg-image" alt="24. Swap Nodes in Pairs | LeetCode Notes" loading="lazy" width="800" height="840" srcset="http://localhost:2368/content/images/size/w600/max/800/1-16rq3ndxy0rf8j4dkp0a7q.png 600w, http://localhost:2368/content/images/max/800/1-16rq3ndxy0rf8j4dkp0a7q.png 800w" sizes="(min-width: 720px) 720px"></figure><p>Points</p><ol><li>Swap Node</li><li>Swap from the end of the list -&gt; apply Recursion</li></ol><h4 id="solutionlistnode-swappairs-listnode-node-1-base-case-no-swapping-needed-if-node-null-node-next-null-return-node-2-recursive-listnode-nn-swappairs-node-next-next-nextnext-3-store-the-head-for-returning-listnode-head-node-next-4-swapping-node-next-next-node-node-next-nn-return-head-">SolutionListNode* swapPairs(ListNode* node) {<br> &#xA0; &#xA0;// 1. base case: no swapping needed<br> &#xA0; &#xA0;if(node == NULL || node-&gt;next == NULL) return node;<br> &#xA0; &#xA0;<br> &#xA0; &#xA0;// 2. Recursive<br> &#xA0; &#xA0;ListNode* nn = swapPairs(node-&gt;next-&gt;next); //nextnext<br><br> &#xA0; &#xA0;// 3. store the head for returning<br> &#xA0; &#xA0;ListNode* head = node-&gt;next;<br><br> &#xA0; &#xA0;// 4. swapping<br> &#xA0; &#xA0;node-&gt;next-&gt;next = node;<br> &#xA0; &#xA0;node-&gt;next = nn;<br><br> &#xA0; &#xA0;return head;<br>}</h4><p>Explain:</p><ol><li>So first we need to find <strong>base case. </strong>My base case is that <strong>if the node or node next is </strong><code><strong>NULL</strong></code> , then return node as no swapping needed.</li><li>Because we do swapping every two nodes, so we jump to the next next node -&gt;<code>swapPairs(node-&gt;next-&gt;next)</code> .</li><li>We need to store the pointer to head(the <code>node-&gt;next</code>) for returning.</li><li>The next of <code>node-&gt;next</code> should be the node(original head) and the next of <code>node</code>(head) will be the next-next node.</li></ol>]]></content:encoded></item><item><title><![CDATA[簡單打造動畫效果！使用NPM入門GSAP (GreenSock Animation Platform)]]></title><description><![CDATA[GSAP (GreenSock Animation Platform)是一個實現動畫和特效的javascript函式庫，他提供簡單的API和跨瀏覽器的兼容性，是打造網頁動畫的好幫手！]]></description><link>http://localhost:2368/e7-b0-a1-e5-96-ae-e6-89-93-e9-80-a0-e5-8b-95-e7-95-ab-e6-95-88-e6-9e-9c-e4-bd-bf-e7-94-a8npm-e5-85-a5-e9-96-80gsap-greensock-animation-platform/</link><guid isPermaLink="false">646a707090219f1c72e9b6cd</guid><dc:creator><![CDATA[葉又銘 You-Ming Yeh]]></dc:creator><pubDate>Thu, 11 May 2023 15:54:05 GMT</pubDate><media:content url="http://localhost:2368/content/images/2023/05/2b44928ae11fb9384c4cf38708677c48.png" medium="image"/><content:encoded><![CDATA[<img src="http://localhost:2368/content/images/2023/05/2b44928ae11fb9384c4cf38708677c48.png" alt="&#x7C21;&#x55AE;&#x6253;&#x9020;&#x52D5;&#x756B;&#x6548;&#x679C;&#xFF01;&#x4F7F;&#x7528;NPM&#x5165;&#x9580;GSAP (GreenSock Animation Platform)"><p><a href="https://greensock.com/gsap/?ref=localhost" rel="noopener">GSAP (GreenSock Animation Platform)</a>&#x662F;&#x4E00;&#x500B;&#x5BE6;&#x73FE;&#x52D5;&#x756B;&#x548C;&#x7279;&#x6548;&#x7684;javascript&#x51FD;&#x5F0F;&#x5EAB;&#xFF0C;&#x4ED6;&#x63D0;&#x4F9B;&#x7C21;&#x55AE;&#x7684;API&#x548C;&#x8DE8;&#x700F;&#x89BD;&#x5668;&#x7684;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x662F;&#x6253;&#x9020;&#x7DB2;&#x9801;&#x52D5;&#x756B;&#x7684;&#x597D;&#x5E6B;&#x624B;&#xFF01;</p><p>&#xFF08;&#x7D42;&#x65BC;&#x4E0D;&#x9700;&#x8981;&#x4E00;&#x76F4;&#x624B;&#x523B;CSS &#x548C; JS &#x310C;...</p><p>&#x4ECA;&#x5929;&#x6211;&#x5011;&#x5C31;&#x7528;React&#x5E36;&#x5927;&#x5BB6;&#x8A8D;&#x8B58;GSAP&#x5427;&#xFF01;</p><p>&#x6587;&#x7AE0;&#x7D50;&#x69CB;&#xFF1A;</p><ol><li>&#x5B89;&#x88DD;&#x548C;&#x4ECB;&#x7D39;GSAP</li><li>Tween&#x6982;&#x5FF5;&#x4ECB;&#x7D39;</li><li>Timeline&#x6982;&#x5FF5;&#x4ECB;&#x7D39;</li><li>&#x7E3D;&#x7D50;</li></ol><hr><h3 id="-gsap">&#x5B89;&#x88DD;&#x548C;&#x4ECB;&#x7D39;GSAP</h3><ol><li>&#x4F7F;&#x7528;npm&#x6216;yarn&#x5B89;&#x88DD;</li></ol><pre><code>npm install gsap
# or
yarn add gsap</code></pre><p>&#x4EE5;&#x4E0B;&#x7BC4;&#x4F8B;&#x70BA;Node v19.7.0&#x548C;gsap v3.11.5</p><p>2. &#x5728;&#x8981;&#x4F7F;&#x7528;gsap&#x7684;&#x6A94;&#x6848;&#x4E2D;import gsap&#x548C;plugins</p><p>import { gsap } from &quot;gsap&quot;;<br><br>// import &#x8981;&#x4F7F;&#x7528;&#x7684;plugin<br>import { &lt;YOUR-PLUGIN_NAME&gt; } from &quot;gsap/dist/all&quot;; // or from &quot;gsap/&lt;YOUR-PLUGIN_NAME&gt;&quot;<br><br>// &#x8A3B;&#x518A;plguin<br>gsap.registerPlugin(&lt;YOUR-PLUGIN_NAME&gt;);<br><br>const App = () =&gt; {<br> &#xA0;//...<br>}</p><p>&#x6BD4;&#x8F03;&#x5E38;&#x898B;&#x7684;plugin&#x6709;&#xFF1A;</p><ol><li>ScrollTrigger: &#x53EF;&#x4EE5;&#x5075;&#x6E2C;&#x4F7F;&#x7528;&#x8005;&#x6EFE;&#x52D5;&#x5377;&#x8EF8;&#x7684;&#x60C5;&#x6CC1;&#xFF0C;&#x4E26;&#x53EF;&#x4EE5;&#x5B9A;&#x7FA9;&#x67D0;&#x4E9B;&#x60C5;&#x6CC1;&#x7684;&#x547C;&#x53EB;&#x51FD;&#x5F0F;&#xFF0C;&#x5982;<code>onEnter()</code>&#x6216;<code>onLeave()</code>&#x7B49;&#x3002;</li><li>ScrollToPlugin: &#x53EF;&#x4EE5;&#x8A2D;&#x5B9A;<code>window</code>&#x6ED1;&#x52D5;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9A;&#x7FA9;&#x547C;&#x53EB;&#x51FD;&#x5F0F;&#xFF0C;&#x662F;&#x52A0;&#x5F37;&#x7248;&#x7684;<code>window.scrollTo()</code>&#x3002;</li><li>TextPlugin: &#x8B93;&#x6587;&#x5B57;&#x4E5F;&#x80FD;&#x7522;&#x751F;&#x7279;&#x6548;&#x6216;&#x52D5;&#x756B;&#x3002;</li></ol><p>&#x5176;&#x5BE6;&#x4F60;&#x80FD;&#x60F3;&#x5230;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;gsap&#x90FD;&#x6709;&#x7279;&#x5B9A;plugin&#x80FD;&#x5920;&#x5BE6;&#x73FE;&#x311B;&#xFF01;</p><blockquote>P.S. &#x5982;&#x679C;&#x958B;&#x767C;&#x4E2D;&#x767C;&#x73FE;&#x67D0;&#x4E9B;&#x660E;&#x660E;gsap docs&#x6709;&#x63D0;&#x4F9B;&#x7684;&#x529F;&#x80FD;&#x537B;&#x6C92;&#x6709;work&#xFF0C;&#x5927;&#x6982;&#x7387;&#x90FD;&#x662F;&#x5FD8;&#x4E86;&#x8A3B;&#x518A;plugin&#x4E86;&#x5566;...</blockquote><hr><h3 id="tween-">Tween&#x6982;&#x5FF5;&#x4ECB;&#x7D39;</h3><p>Tween &#x662F; GSAP &#x4E2D;&#x7684;&#x4E00;&#x500B;&#x91CD;&#x8981;&#x6982;&#x5FF5;&#xFF0C;&#x662F;&#x6307;&#x5C07;&#x4E00;&#x500B;element&#x5F9E;&#x4E00;&#x500B;&#x72C0;&#x614B;&#xFF08;&#x8D77;&#x59CB;&#x9EDE;&#xFF09;&#x9010;&#x6F38;&#x904E;&#x6E21;&#x5230;&#x53E6;&#x4E00;&#x500B;&#x72C0;&#x614B;&#xFF08;&#x7D42;&#x9EDE;&#xFF09;&#x7684;&#x904E;&#x7A0B;&#x3002;</p><p><strong>&#x7C21;&#x55AE;&#x4F86;&#x8AAA;&#x5C31;&#x662F;&#x4E00;&#x500B;element&#x7684;&#x52D5;&#x756B;&#x55AE;&#x4F4D;&#xFF01;</strong></p><p>Tween &#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x4E00;&#x500B;&#x6216;&#x591A;&#x500B;&#x5C6C;&#x6027;&#x7684;&#x8B8A;&#x5316;&#xFF0C;&#x4F8B;&#x5982;&#x4F4D;&#x7F6E;&#x3001;&#x5927;&#x5C0F;&#x3001;&#x65CB;&#x8F49;&#x3001;&#x900F;&#x660E;&#x5EA6;&#x3001;&#x984F;&#x8272;&#x7B49;&#xFF0C;&#x4E26;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x8B8A;&#x5316;&#x7684;&#x901F;&#x5EA6;&#x3001;&#x52A0;&#x901F;&#x5EA6;&#x3001;&#x7DE9;&#x52D5;&#x51FD;&#x6578;&#xFF08;&#x6211;&#x5011;&#x7A31;&#x9019;&#x4E9B;&#x8B8A;&#x5316;&#x70BA;easing&#xFF09;&#x7B49;&#x3002;</p><p>&#x6709;&#x4E09;&#x500B;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5275;&#x9020;Tween&#xFF1A;</p><ol><li><code>gsap.from()</code>: &#x5C07;&#x4E00;&#x500B;element<strong>&#x5F9E;&#x6307;&#x5B9A;</strong>&#x72C0;&#x614B;&#x8B8A;&#x5316;<strong>&#x5230;&#x76EE;&#x524D;</strong>&#x72C0;&#x614B;</li><li><code>gsap.to()</code>:&#x5C07;&#x4E00;&#x500B;element<strong>&#x5F9E;&#x76EE;&#x524D;</strong>&#x72C0;&#x614B;&#x8B8A;&#x5316;<strong>&#x5230;&#x6307;&#x5B9A;</strong>&#x72C0;&#x614B;</li><li><code>gsap.fromTo()</code>:&#x5C07;&#x4E00;&#x500B;element<strong>&#x5F9E;&#x6307;&#x5B9A;</strong>&#x72C0;&#x614B;&#x8B8A;&#x5316;<strong>&#x5230;&#x53E6;&#x4E00;&#x500B;&#x6307;&#x5B9A;</strong>&#x72C0;&#x614B;</li></ol><p><code>from()</code> &#x548C; <code>to()</code> &#x90FD;&#x5403;&#x5169;&#x500B;&#x53C3;&#x6578;&#xFF1A;</p><ol><li>element&#xFF1A;&#x53EF;&#x4EE5;&#x5403;<code>id</code>, <code>class</code>&#x6216; <code>element</code> &#x3002;</li><li>&#x72C0;&#x614B;&#xFF1A;&#x901A;&#x5E38;&#x5305;&#x542B;</li></ol><ul><li>duration: &#x8B8A;&#x5316;&#x6642;&#x9593;</li><li>ease: &#x8B8A;&#x5316;&#x901F;&#x5EA6;easing&#xFF0C;&#x5982;power, elastic&#x7B49;</li><li>style: &#x60F3;&#x8B8A;&#x5316;&#x7684;&#x5C6C;&#x6027;</li></ul><p><code>fromTo()</code> &#x5247;&#x662F;&#x5403;&#x5169;&#x500B;&#x72C0;&#x614B;&#x5594;&#xFF08;&#x8D77;&#x59CB;&#x548C;&#x7D50;&#x675F;&#xFF09;&#xFF01;</p><blockquote>&#x6211;&#x7FD2;&#x6163;&#x53EA;&#x4F7F;&#x7528;<code>gsap.fromTo()</code> &#x4F86;&#x907F;&#x514D;&#x5B9A;&#x7FA9;&#x72C0;&#x614B;&#x4E0D;&#x660E;&#x78BA;&#xFF01;</blockquote><p><strong>&#x76F4;&#x63A5;&#x770B;&#x7BC4;&#x4F8B;&#x5427;</strong></p><p>import { gsap } from &apos;gsap&apos;<br><br>// import some plugins...<br><br>const element = document.querySelector(&quot;.my-element&quot;);<br><br>// &#x5275;&#x9020;&#x4E26;&#x4F7F;&#x7528;Tween<br>gsap.fromTo(<br> &#xA0;element, {<br> &#xA0; &#xA0;duration: 1,<br> &#xA0; &#xA0;ease: &apos;power.in&apos;, // easing &#x6548;&#x679C;<br> &#xA0; &#xA0;// &#x8B8A;&#x5316;&#x5C6C;&#x6027;<br> &#xA0; &#xA0;text: &quot;&quot;,<br> &#xA0; &#xA0;opacity: 0<br> &#xA0;}, {<br> &#xA0; &#xA0;duration: 1,<br> &#xA0; &#xA0;ease: &apos;power.out&apos;, // easing &#x6548;&#x679C;<br> &#xA0; &#xA0;// &#x8B8A;&#x5316;&#x5C6C;&#x6027;<br> &#xA0; &#xA0;text: &quot;Hello World!&quot;,<br> &#xA0; &#xA0;opacity: 1<br> &#xA0;}<br>)</p><hr><h3 id="timeline-">Timeline&#x6982;&#x5FF5;&#x4ECB;&#x7D39;</h3><p>Timeline&#x662F;&#x7528;&#x65BC;&#x7BA1;&#x7406; Tween &#x7684;&#x6642;&#x9593;&#x8EF8;&#xFF0C;&#x53EF;&#x4EE5;&#x5C07;&#x591A;&#x500B; Tween &#x6309;&#x7167;&#x9806;&#x5E8F;&#x6216;&#x540C;&#x6642;&#x9032;&#x884C;&#xFF0C;&#x4E26;&#x4E14;&#x53EF;&#x4EE5;&#x63A7;&#x5236; Tween &#x7684;&#x958B;&#x59CB;&#x6642;&#x9593;&#x3001;&#x66AB;&#x505C;&#x3001;&#x91CD;&#x65B0;&#x958B;&#x59CB;&#xFF08;&#x7A31;&#x4E4B;&#x70BA;Controls&#xFF09;&#x7B49;&#x64CD;&#x4F5C;&#x3002;</p><p>&#x6211;&#x5011;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>gsap.timeline()</code> &#x53BB;&#x5275;&#x9020;Timeline&#xFF0C;&#x4E26;&#x4F7F;&#x7528;<code>.to()</code>, <code>.from</code>, <code>.fromTo()</code> &#x4F86;&#x52A0;&#x5165;Tween&#x3002;</p><p><strong>&#x76F4;&#x63A5;&#x770B;&#x7BC4;&#x4F8B;&#x5427;</strong></p><p>import { gsap } from &apos;gsap&apos;<br><br>// import some plugins...<br><br>const element = document.querySelector(&quot;.my-element&quot;);<br><br>// &#x5275;&#x9020;timeline<br>const tl = gsap.timeline({repeat: 2}); // &#x53EF;&#x4EE5;&#x5403;&#x4E00;&#x4E9B;config<br><br><br>// &#x52A0;&#x5165;&#x4E00;&#x4E9B;Tween<br>tl<br>.fromTo(<br> &#xA0;element, {<br> &#xA0; &#xA0;duration: 1,<br> &#xA0; &#xA0;ease: &apos;power.in&apos;,<br> &#xA0; &#xA0;text: &quot;&quot;,<br> &#xA0; &#xA0;opacity: 0<br> &#xA0;}, {<br> &#xA0; &#xA0;duration: 1,<br> &#xA0; &#xA0;ease: &apos;power.out&apos;,<br> &#xA0; &#xA0;text: &quot;Hello World!&quot;,<br> &#xA0; &#xA0;opacity: 1<br> &#xA0;}<br>)<br>.to(<br> &#xA0;&quot;.other-element&quot;, {<br> &#xA0; &#xA0; &#xA0;duration: 0.5,<br> &#xA0; &#xA0; &#xA0;// ...<br> &#xA0; }<br>)<br>.from(<br> &#xA0;// ...<br>)<br><br>// then we can control the whole thing easily...<br>tl.pause();<br>tl.resume();<br>tl.seek(1.5);<br>tl.reverse();</p><blockquote>&#x9806;&#x5E36;&#x4E00;&#x63D0;&#xFF0C;&#x6211;&#x81EA;&#x5DF1;&#x7FD2;&#x6163;&#x5275;&#x9020;Timeline&#x6642;&#x5148;&#x8B93;&#x4ED6;pause&#xFF0C;&#x4E4B;&#x5F8C;&#x518D;&#x770B;&#x60C5;&#x6CC1;&#x547C;&#x53EB;&#xFF0C;&#x9019;&#x6A23;&#x5C31;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x76F4;&#x63A5;&#x547C;&#x53EB;<strong>&#x301C;</strong></blockquote><hr><h3 id="-">&#x7E3D;&#x7D50;</h3><p>GSAP &#x662F;&#x4E00;&#x500B;&#x529F;&#x80FD;&#x8C50;&#x5BCC;&#x3001;&#x6613;&#x65BC;&#x4F7F;&#x7528;&#x3001;&#x6027;&#x80FD;&#x512A;&#x79C0;&#x3001;&#x8DE8;&#x5E73;&#x53F0;&#x652F;&#x6301;&#x7684; JavaScript &#x52D5;&#x756B;&#x5EAB;&#x3002;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x8C50;&#x5BCC;&#x7684;&#x52D5;&#x756B;&#x529F;&#x80FD;&#xFF0C;&#x5305;&#x62EC; Tween&#x3001;Timeline&#x3001;Easing &#x7B49;&#xFF0C;&#x53EF;&#x4EE5;&#x6EFF;&#x8DB3;&#x4E0D;&#x540C;&#x5834;&#x666F;&#x4E0B;&#x7684;&#x52D5;&#x756B;&#x9700;&#x6C42;&#x3002;</p><p>&#x540C;&#x6642;&#xFF0C;GSAP &#x63D0;&#x4F9B;&#x4E86;&#x7C21;&#x55AE;&#x6613;&#x61C2;&#x7684; API &#x548C;&#x8C50;&#x5BCC;&#x7684;&#x6587;&#x6A94;&#x548C;&#x793A;&#x4F8B;&#xFF0C;&#x53EF;&#x4EE5;&#x5E6B;&#x52A9;&#x958B;&#x767C;&#x8005;&#x66F4;&#x5FEB;&#x5730;&#x4E0A;&#x624B;&#x3002;&#x5728;&#x6027;&#x80FD;&#x65B9;&#x9762;&#xFF0C;GSAP &#x4F7F;&#x7528;&#x4E86;&#x5148;&#x9032;&#x7684;&#x6280;&#x8853;&#x548C;&#x512A;&#x5316;&#x63AA;&#x65BD;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5404;&#x7A2E;&#x700F;&#x89BD;&#x5668;&#x4E2D;&#x5BE6;&#x73FE;&#x5E73;&#x6ED1;&#x7684;&#x52D5;&#x756B;&#x6548;&#x679C;&#x3002;</p><p>&#x6B64;&#x5916;&#xFF0C;GSAP &#x9084;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x524D;&#x7AEF;&#x6846;&#x67B6;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x6E1B;&#x5C11;&#x5B78;&#x7FD2;&#x6210;&#x672C;&#x548C;&#x7DE8;&#x7A0B;&#x6210;&#x672C;&#x3002;</p><p>&#x7E3D;&#x7684;&#x4F86;&#x8AAA;&#xFF0C;GSAP &#x662F;&#x524D;&#x7AEF;&#x958B;&#x767C;&#x4E2D;&#x4E0D;&#x53EF;&#x6216;&#x7F3A;&#x7684;&#x4E00;&#x500B;&#x5DE5;&#x5177;&#x3002;</p><hr><p>&#x5982;&#x679C;&#x6709;&#x751A;&#x9EBC;&#x554F;&#x984C;&#x90FD;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x554F;&#x6211;&#x311B;</p>]]></content:encoded></item><item><title><![CDATA[Dive deep into the usage of RESTful API Routing and Router in Express.js]]></title><description><![CDATA[Express.js is a popular Node.js web framework that provides a convenient way to build web apps. RESTful API is an API design style based on…]]></description><link>http://localhost:2368/dive-deep-into-the-usage-of-restful-api-routing-and-router-in-express-js/</link><guid isPermaLink="false">646a707090219f1c72e9b6d4</guid><dc:creator><![CDATA[葉又銘 You-Ming Yeh]]></dc:creator><pubDate>Thu, 27 Apr 2023 16:21:24 GMT</pubDate><content:encoded><![CDATA[<p>Express.js is a popular Node.js web framework that provides a convenient way to build web apps. RESTful API is an API design style based on the HTTP protocol. It enables operations on resources through URLs, HTTP methods, and HTTP status codes.</p><p>With the introduction of Router in Express.js 4.0, routing has become more modular and concise. Essentially, Router allows for packaging routes together for easy use.</p><p>If you&#x2019;re looking to streamline your routing process and create a more organized and efficient workflow in Express.js, understanding the usage of RESTful API Routing and Router is a must. Let&#x2019;s dive in!</p><figure class="kg-card kg-image-card"><img src="http://localhost:2368/content/images/max/800/0-smn3wlgrrgjhearx.png" class="kg-image" alt loading="lazy" width="435" height="157"></figure><p>Article Structure:</p><ol><li>Setting up the Express.js Environment</li><li>RESTful API</li><li>Router</li></ol><hr><h3 id="setting-up-the-express-js-environment">Setting up the Express.js Environment</h3><p>Before diving into using Express.js, it&#x2019;s assumed that you already have Node.js and npm installed (<a href="https://nodejs.org/zh-tw/download?ref=localhost" rel="noopener">download from official website</a>).</p><p>To quickly generate an Express web app, we&#x2019;ll need to install the Express Generator globally:# install globally<br>npm install express-generator -g</p><p>Next, we can generate an app quickly by running the following command:# generate an express app<br>express -f &lt;YOUR_PROJECT_NAME&gt;<br># install packages<br>npm install</p><p>Once you open up the project, you should see:.<br>&#x251C;&#x2500;&#x2500; app.js<br>&#x251C;&#x2500;&#x2500; bin<br>&#x2502; &#x2514;&#x2500;&#x2500; www<br>&#x251C;&#x2500;&#x2500; package-lock.json<br>&#x251C;&#x2500;&#x2500; package.json<br>&#x251C;&#x2500;&#x2500; public<br>&#x2502; &#x251C;&#x2500;&#x2500; images<br>&#x2502; &#x251C;&#x2500;&#x2500; javascripts<br>&#x2502; &#x2514;&#x2500;&#x2500; stylesheets<br>&#x2502; &#x2514;&#x2500;&#x2500; style.css<br>&#x251C;&#x2500;&#x2500; routes<br>&#x2502; &#x251C;&#x2500;&#x2500; index.js<br>&#x2502; &#x2514;&#x2500;&#x2500; users.js<br>&#x2514;&#x2500;&#x2500; views<br> &#x251C;&#x2500;&#x2500; error.jade<br> &#x251C;&#x2500;&#x2500; index.jade<br> &#x2514;&#x2500;&#x2500; layout.jade</p><p>To see the homepage, run <code>npm start</code> and open <code>https://localhost:3000/</code>. Alternatively, to see the <code>users</code> page, open <code><a href="https://localhost:3000/users/?ref=localhost">https://localhost:3000/users/</a></code><a href="https://localhost:3000/users/?ref=localhost">.</a></p><hr><h3 id="app-js-">app.js &#x89E3;&#x6790;</h3><p>If you open <code>app.js</code> in the directory, you&apos;ll see:</p><ol><li><code>var app = express()</code> &#xFF1A;This line is used to set up the express features and behavior.</li><li><code>app.set(...)</code> &#xFF1A;This line is used to set the directory where the engine and templates are located.</li><li><code>app.use(...)</code> &#xFF1A;This line is used to use functionality or behavior, usually some parsers used to parse the format in the HTTP request into JavaScript objects.</li><li><code>app.use(&apos;/&lt;some_route&gt;,&apos; &lt;some_router&gt;)</code> &#xFF1A;This is where we&#x2019;ll be focusing on today&#x200A;&#x2014;&#x200A;it&#x2019;s used to specify a route and router.</li></ol><h4 id="restful-api">RESTful API</h4><p>A RESTful API is a type of web API designed based on the REST (Representational State Transfer) architectural style.</p><p>Typically, RESTful APIs provide services using the HTTP protocol, including:</p><ol><li><a href="https://developer.mozilla.org/zh-TW/docs/Web/HTTP/Methods?ref=localhost" rel="noopener">HTTP request methods</a> (such as GET, POST, PUT, DELETE, etc.)</li><li><a href="https://zh.wikipedia.org/zh-tw/HTTP%E7%8A%B6%E6%80%81%E7%A0%81?ref=localhost" rel="noopener">HTTP status codes</a> (such as 200, 400, 404, 500, etc., which represent the HTTP response status).</li></ol><p>Here&#x2019;s an example demonstration in Express.js:const app = express();<br>app.use(bodyParser.json());<br><br>let todos = [<br> { id: 1, title: &apos;Buy milk&apos;, completed: false },<br> { id: 2, title: &apos;Go to gym&apos;, completed: true }<br>];<br>// GET /todos<br>app.get(&apos;/todos&apos;, (req, res) =&gt; {<br> res.send(todos);<br>});<br>// POST /todos<br>app.post(&apos;/todos&apos;, (req, res) =&gt; {<br> const todo = req.body;<br> todos.push(todo);<br> res.send(todo);<br>});</p><p>As you can see, when we receive a <code>GET</code> request to <code><a href="https://localhost:3000/todos?ref=localhost">https://localhost:3000/todos</a></code>, our server executes the arrow function <code>(req, res) =&gt; {&#x2026;}</code>. Here:</p><ul><li><code>req</code> stands for the HTTP request object, which contains the information about the request sent by the client, such as URL, request parameters, etc.</li><li><code>res</code> stands for the HTTP response, which could be a text, HTML, JSON, status code, etc. You can respond with a status using <code>status()</code>, and send a text response using <code>send()</code>, e.g., <code>res.status(404).send(&apos;Not Found&apos;);</code>.</li></ul><p>Besides GET and POST, there are other commonly used HTTP request methods:</p><ol><li>GET: used to request a specified resource from the server, usually used to retrieve information.</li><li>POST: used to submit a resource to the server, usually used to submit forms, upload files, etc.</li><li>PUT: used to update a specified resource on the server, usually used to modify the information of an existing resource.</li><li>DELETE: used to delete a specified resource on the server.</li><li>PATCH: used to partially update a specified resource on the server, modifying only certain properties of the resource.</li><li>HEAD: similar to the GET request method, but it does not return the resource content, only the HTTP response headers.</li><li>OPTIONS: used to obtain information about the communication options available for a specified resource.</li></ol><hr><h3 id="router">Router</h3><p>Noticed a line in app.js:app.use(&apos;/&apos;,indexRouter)</p><p>And in <code>router/index.js</code>, we can see:var express = require(&apos;express&apos;);<br>var router = express.Router();<br><br>/* GET home page. */<br>router.get(&apos;/&apos;, function(req, res, next) {<br> res.render(&apos;index&apos;, { title: &apos;Express&apos; });<br>});<br>module.exports = router;</p><p>We found that the Router feature provided by Express 4.0 allows us to organize request functions with the same route using a router and then provide them to <code>app.use()</code> for use.</p><h4 id="route-with-">Route with &#x53C3;&#x6578;</h4><p>It&#x2019;s very simple to add parameters to a route. Just add <code>/:&lt;parameter&gt;</code> to the end of the route!</p><p>For example, to pass an id as a parameter in a GET request:router.get(&apos;/:id&apos;, function(req, res) {<br> res.send(&apos;got id: &apos; + req.params.id);<br>});</p><h3 id="middleware">middleware</h3><p>In this example, an important feature has not been mentioned yet. You can define a middleware function to execute some pre-processing tasks before each request is handled.</p><blockquote>You can use middleware to validate the request content and parameters before executing the actual request!</blockquote><p>There are many routing methods available in Express. You can refer to the <a href="https://expressjs.com/zh-tw/guide/routing.html?ref=localhost" rel="noopener">Express Routing documentation</a> for more information.</p><hr><p>This is a brief introduction to Express.js Routing. If you have any questions, feel free to contact me via email: <a href="mailto:b10705052@ntu.edu.tw">b10705052@ntu.edu.tw</a>. You can also check out my personal website in my profile if you want to know more about me.</p>]]></content:encoded></item><item><title><![CDATA[一次搞懂Express.js中的RESTful API Routing + Router]]></title><description><![CDATA[Express.js是一個流行的Node.js Web框架，它提供了方便的方法建立Web App。]]></description><link>http://localhost:2368/e4-b8-80-e6-ac-a1-e6-90-9e-e6-87-82express-js-e4-b8-ad-e7-9a-84restful-api-routing-router/</link><guid isPermaLink="false">646a707090219f1c72e9b6ce</guid><dc:creator><![CDATA[葉又銘 You-Ming Yeh]]></dc:creator><pubDate>Thu, 27 Apr 2023 11:58:48 GMT</pubDate><content:encoded><![CDATA[<p>Express.js&#x662F;&#x4E00;&#x500B;&#x6D41;&#x884C;&#x7684;Node.js Web&#x6846;&#x67B6;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x65B9;&#x4FBF;&#x7684;&#x65B9;&#x6CD5;&#x5EFA;&#x7ACB;Web App&#x3002;</p><p>RESTful API&#x662F;&#x4E00;&#x7A2E;&#x57FA;&#x65BC;HTTP&#x5354;&#x8B70;&#x7684;API&#x8A2D;&#x8A08;&#x98A8;&#x683C;&#xFF0C;&#x5B83;&#x901A;&#x904E;URL&#x3001;HTTP&#x65B9;&#x6CD5;&#x3001;HTTP&#x72C0;&#x614B;&#x78BC;(status)&#x7B49;&#x65B9;&#x5F0F;&#x4F86;&#x5BE6;&#x73FE;&#x8CC7;&#x6E90;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p><p>Express.js 4.0&#x4E2D;&#x52A0;&#x5165;&#x4E86;Router&#x529F;&#x80FD;&#xFF0C;&#x7C21;&#x55AE;&#x4F86;&#x8AAA;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x5C07;route&#x6253;&#x5305;&#x8D77;&#x4F86;&#xFF0C;&#x5728;&#x4E00;&#x6B21;&#x4F7F;&#x7528;&#xFF0C;&#x662F;&#x4E00;&#x500B;&#x6BD4;&#x8F03;&#x6A21;&#x7D44;&#x5316;&#x3001;&#x7C21;&#x6F54;&#x7684;&#x65B9;&#x6CD5;</p><figure class="kg-card kg-image-card"><img src="http://localhost:2368/content/images/max/800/0-z5hn8_vubvm3wcub.png" class="kg-image" alt loading="lazy" width="435" height="157"></figure><p>&#x6587;&#x7AE0;&#x7D50;&#x69CB;&#xFF1A;</p><ol><li>&#x5EFA;&#x7F6E;Express.js&#x74B0;&#x5883;</li><li>RESTful API</li><li>Router</li></ol><hr><h3 id="-express-js-">&#x5EFA;&#x7F6E;Express.js&#x74B0;&#x5883;</h3><p>&#x5728;&#x4F7F;&#x7528;Express.js&#x524D;&#xFF0C;&#x6211;&#x60F3;&#x5927;&#x5BB6;&#x90FD;&#x5DF2;&#x7D93;&#x88DD;&#x597D;&#x4E86;Node.js &#x548C; npm &#xFF08;<a href="https://nodejs.org/zh-tw/download?ref=localhost" rel="noopener">&#x5B98;&#x7DB2;&#x4E0B;&#x8F09;</a>&#xFF09;</p><p>&#x6211;&#x5011;&#x5148;&#x5B89;&#x88DD;Express Generator&#xFF0C;&#x7528;&#x4F86;&#x5FEB;&#x901F;&#x7522;&#x751F;&#x4E00;&#x500B;Express Web app&#xFF1A;</p><pre><code>#install globally
npm install express-generator -g</code></pre><p>&#x63A5;&#x8457;&#xFF0C;&#x6211;&#x5011;&#x57F7;&#x884C;&#x4EE5;&#x4E0B;&#x6307;&#x4EE4;&#x5FEB;&#x901F;&#x751F;&#x6210;&#x4E00;&#x500B;app&#xFF1A;</p><pre><code>#&#x5EFA;&#x7ACB;
express appexpress -f &lt;YOUR_PROJECT_NAME&gt;
#&#x5B89;&#x88DD;&#x5957;&#x4EF6;
npm install</code></pre><p>&#x6253;&#x958B;&#x5C08;&#x6848;&#x5F8C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A;<br>&#x251C;&#x2500;&#x2500; app.js<br>&#x251C;&#x2500;&#x2500; bin<br>&#x2502; &#xA0; &#x2514;&#x2500;&#x2500; www<br>&#x251C;&#x2500;&#x2500; package-lock.json<br>&#x251C;&#x2500;&#x2500; package.json<br>&#x251C;&#x2500;&#x2500; public<br>&#x2502; &#xA0; &#x251C;&#x2500;&#x2500; images<br>&#x2502; &#xA0; &#x251C;&#x2500;&#x2500; javascripts<br>&#x2502; &#xA0; &#x2514;&#x2500;&#x2500; stylesheets<br>&#x2502; &#xA0; &#xA0; &#xA0; &#x2514;&#x2500;&#x2500; style.css<br>&#x251C;&#x2500;&#x2500; routes<br>&#x2502; &#xA0; &#x251C;&#x2500;&#x2500; index.js<br>&#x2502; &#xA0; &#x2514;&#x2500;&#x2500; users.js<br>&#x2514;&#x2500;&#x2500; views<br> &#xA0; &#xA0;&#x251C;&#x2500;&#x2500; error.jade<br> &#xA0; &#xA0;&#x251C;&#x2500;&#x2500; index.jade<br> &#xA0; &#xA0;&#x2514;&#x2500;&#x2500; layout.jade</p><p>&#x4F60;&#x53EF;&#x4EE5;&#x900F;&#x904E;&#x57F7;&#x884C;<code>npm start</code> &#x4E26;&#x6253;&#x958B; <code>https://localhost:3000/</code> &#x4F86;&#x770B;&#x5230;&#x9996;&#x9801;&#xFF0C;&#x6216;&#x6253;&#x958B;<code>https://localhost:3000/users/</code>&#x4F86;&#x770B;&#x5230;users&#x3002;</p><h4 id="app-js-">app.js &#x89E3;&#x6790;</h4><p>&#x6253;&#x958B;&#x76EE;&#x9304;&#x4E2D;&#x7684;app.js&#x5F8C;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;</p><ol><li><code>var app = express()</code> &#xFF1A;&#x7528;&#x65BC;&#x8A2D;&#x7F6E;express&#x529F;&#x80FD;&#x3001;&#x884C;&#x70BA;&#x3002;</li><li><code>app.set(...)</code> &#xFF1A;&#x8A2D;&#x7F6E;&#x5F15;&#x64CE;&#x3001;&#x6A21;&#x677F;&#x6240;&#x5728;&#x7684;&#x76EE;&#x9304;</li><li><code>app.use(&#x2026;)</code> &#xFF1A;&#x4F7F;&#x7528;&#x7684;&#x529F;&#x80FD;&#x3001;&#x884C;&#x70BA;&#xFF0C;&#x901A;&#x5E38;&#x90FD;&#x662F;&#x4E00;&#x4E9B;Parser&#xFF0C;&#x7528;&#x4F86;&#x89E3;&#x6790;HTTP req&#xFF08;&#x8ACB;&#x6C42;&#xFF09;&#x4E2D;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x8F49;&#x70BA;javascript&#x7269;&#x4EF6;&#x3002;</li><li><code>app.use(&#x2018;/&lt;some_route&gt;,&#x2019; &lt;some_router&gt;)</code> &#xFF1A;&#x9019;&#x88E1;&#x5C31;&#x662F;&#x6211;&#x5011;&#x4ECA;&#x5929;&#x8981;&#x91CD;&#x9EDE;&#x8B1B;&#x89E3;&#x7684;&#x5730;&#x65B9;&#x5566;&#xFF5E;</li></ol><hr><h3 id="restful-api">RESTful API</h3><p>RESTful API&#x662F;&#x57FA;&#x65BC;REST&#xFF08;Representational State Transfer&#xFF09;&#x8A2D;&#x8A08;&#x98A8;&#x683C;&#x7684;&#x4E00;&#x7A2E;Web API&#x3002;</p><p>RESTful API&#x901A;&#x5E38;&#x4F7F;&#x7528;HTTP&#x5354;&#x8B70;&#x63D0;&#x4F9B;&#x670D;&#x52D9;&#xFF0C;&#x5305;&#x62EC;HTTP</p><ol><li><a href="https://developer.mozilla.org/zh-TW/docs/Web/HTTP/Methods?ref=localhost" rel="noopener">&#x8ACB;&#x6C42;&#x65B9;&#x6CD5;</a>&#xFF08;&#x5982;GET&#x3001;POST&#x3001;PUT&#x3001;DELETE&#x7B49;&#xFF09;</li><li><a href="https://zh.wikipedia.org/zh-tw/HTTP%E7%8A%B6%E6%80%81%E7%A0%81?ref=localhost" rel="noopener">&#x72C0;&#x614B;&#x78BC;</a>&#xFF08;&#x5982;200&#x3001;400&#x3001;404&#x3001;500&#x7B49;&#xFF0C;&#x8868;&#x793A;HTTP&#x7684;response&#x72C0;&#x614B;&#xFF09;&#x7B49;</li></ol><p>&#x4EE5;&#x4E0B;&#x662F;&#x5728;Express.js&#x4E2D;&#x7684;&#x7BC4;&#x4F8B;&#x6F14;&#x793A;&#xFF1A;</p><p>const app = express();<br>app.use(bodyParser.json());<br><br>let todos = [<br> &#xA0;{ id: 1, title: &apos;Buy milk&apos;, completed: false },<br> &#xA0;{ id: 2, title: &apos;Go to gym&apos;, completed: true }<br>];<br><br>// GET /todos<br>app.get(&apos;/todos&apos;, (req, res) =&gt; {<br> &#xA0;res.send(todos);<br>});<br><br>// POST /todos<br>app.post(&apos;/todos&apos;, (req, res) =&gt; {<br> &#xA0;const todo = req.body;<br> &#xA0;todos.push(todo);<br> &#xA0;res.send(todo);<br>});</p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x7576;&#x6211;&#x5011;server&#x6536;&#x5230;&#x5C0D;<code>https://localhost:3000/todos</code>&#x505A;<code>get</code>&#x9019;&#x500B;&#x8ACB;&#x6C42;&#x6642;&#xFF0C;&#x5C31;&#x6703;&#x57F7;&#x884C;&#x5F8C;&#x9762;&#x7684;arrow function <code>(req, res) = &gt; { &#x2026; }</code> &#xFF0C;&#x5176;&#x4E2D;&#xFF1A;</p><ol><li><code>req</code> &#x8ACB;&#x6C42;&#xFF1A;<code>req</code>&#x4EE3;&#x8868;HTTP&#x8ACB;&#x6C42;&#x5C0D;&#x8C61;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x5BA2;&#x6236;&#x7AEF;&#x767C;&#x9001;&#x7684;HTTP&#x8ACB;&#x6C42;&#x8A0A;&#x606F;&#xFF0C;&#x4F8B;&#x5982;URL&#x3001;&#x8ACB;&#x6C42;&#x53C3;&#x6578;&#x7B49;&#x7B49;&#x3002;</li><li><code>res</code> &#x8ACB;&#x6C42;&#xFF1A;<code>res</code>&#x4EE3;&#x8868;HTTP&#x56DE;&#x61C9;&#xFF0C;&#x4F8B;&#x5982;&#x6587;&#x672C;&#x3001;HTML&#x3001;JSON&#x3001;&#x72C0;&#x614B;status&#x7B49;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x900F;&#x904E;<code>status()</code>&#x56DE;&#x61C9;&#x72C0;&#x614B;&#x3001;<code>send()</code>&#x56DE;&#x61C9;&#x6587;&#x672C;&#xFF0C;&#x4F8B;&#x5982;<code>res.status(404).send(&#x2018;Not Found&#x2019;);</code></li></ol><p>&#x9664;&#x4E86;GET&#x3001;POST&#xFF0C;&#x9084;&#x6709;&#x4EE5;&#x4E0B;&#x5E38;&#x898B;&#x7684;&#x8ACB;&#x6C42;&#x65B9;&#x6CD5;&#xFF1A;</p><ol><li>GET&#xFF1A;&#x7528;&#x65BC;&#x5411;server&#x8ACB;&#x6C42;&#x6307;&#x5B9A;&#x8CC7;&#x6E90;&#xFF0C;&#x901A;&#x5E38;&#x7528;&#x65BC;&#x7372;&#x53D6;&#x8CC7;&#x6E90;&#x7684;&#x8A0A;&#x606F;&#x3002;</li><li>POST&#xFF1A;&#x7528;&#x65BC;&#x5411;server&#x63D0;&#x4EA4;&#x8CC7;&#x6E90;&#xFF0C;&#x901A;&#x5E38;&#x7528;&#x65BC;&#x63D0;&#x4EA4;&#x8868;&#x55AE;&#x3001;&#x4E0A;&#x50B3;&#x6587;&#x4EF6;&#x7B49;&#x3002;</li><li>PUT&#xFF1A;&#x7528;&#x65BC;&#x66F4;&#x65B0;server&#x4E0A;&#x6307;&#x5B9A;&#x7684;&#x8CC7;&#x6E90;&#xFF0C;&#x901A;&#x5E38;&#x7528;&#x65BC;&#x4FEE;&#x6539;&#x73FE;&#x6709;&#x8CC7;&#x6E90;&#x7684;&#x8A0A;&#x606F;&#x3002;</li><li>DELETE&#xFF1A;&#x7528;&#x65BC;&#x522A;&#x9664;server&#x4E0A;&#x6307;&#x5B9A;&#x7684;&#x8CC7;&#x6E90;&#x3002;</li><li>PATCH&#xFF1A;&#x7528;&#x65BC;&#x5C0D;server&#x4E0A;&#x6307;&#x5B9A;&#x7684;&#x8CC7;&#x6E90;&#x9032;&#x884C;&#x5C40;&#x90E8;&#x66F4;&#x65B0;&#xFF0C;&#x53EA;&#x4FEE;&#x6539;&#x8CC7;&#x6E90;&#x7684;&#x90E8;&#x5206;&#x5C6C;&#x6027;&#x3002;</li><li>HEAD&#xFF1A;&#x8207;GET&#x8ACB;&#x6C42;&#x65B9;&#x6CD5;&#x985E;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x8FD4;&#x56DE;&#x8CC7;&#x6E90;&#x5167;&#x5BB9;&#xFF08;&#x6587;&#x672C;&#xFF09;&#xFF0C;&#x50C5;&#x8FD4;&#x56DE;HTTP resoonse&#x3002;</li><li>OPTIONS&#xFF1A;&#x7528;&#x65BC;&#x7372;&#x53D6;&#x6307;&#x5B9A;&#x8CC7;&#x6E90;&#x3002;</li></ol><hr><h3 id="router">Router</h3><p>&#x5728;app.js&#x4E2D;&#x6709;&#x4E00;&#x884C;&#xFF1A;app.use(&apos;/&apos;,indexRouter)</p><p>&#x5728;router/index.js&#x4E2D;&#x5247;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A;var express = require(&apos;express&apos;);<br>var router = express.Router();<br><br>/* GET home page. */<br>router.get(&apos;/&apos;, function(req, res, next) {<br> &#xA0;res.render(&apos;index&apos;, { title: &apos;Express&apos; });<br>});<br><br>module.exports = router;</p><p>&#x6211;&#x53EF;&#x4EE5;&#x767C;&#x73FE;Express 4.0&#x4E2D;&#x63D0;&#x4F9B;&#x7684;Router&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x5C07;&#x6709;&#x76F8;&#x540C;route&#x7684;&#x8ACB;&#x6C42;&#x51FD;&#x5F0F;&#x6539;&#x6210;&#x4F7F;&#x7528;router&#x5148;&#x6253;&#x5305;&#x8D77;&#x4F86;&#xFF0C;&#x518D;&#x63D0;&#x4F9B;&#x7D66;<code>app.use()</code>&#x4F7F;&#x7528;&#x3002;</p><h4 id="route-with-">Route with &#x53C3;&#x6578;</h4><p>&#x82E5;&#x60F3;&#x8981;route&#x80FD;&#x9644;&#x4E0A;&#x53C3;&#x6578;&#x4E5F;&#x5F88;&#x7C21;&#x55AE;&#xFF0C;&#x53EA;&#x8981;&#x5728;&#x8DEF;&#x7531;&#x5F8C;&#x52A0;&#x4E0A;/:&lt;parameter&gt;&#x5C31;&#x53EF;&#x4EE5;&#x56C9;&#xFF01;</p><p>&#x4F8B;&#x5982;&#xFF1A;&#x5728;GET&#x6642;&#x50B3;&#x5165;idrouter.get(&apos;/:id&apos;, function(req, res) {<br> &#xA0;res.send(&apos;got id: &apos; + req.params.id);<br>});</p><h4 id="middleware">middleware</h4><p>&#x9019;&#x500B;&#x7BC4;&#x4F8B;&#x4E2D;&#x6C92;&#x6709;&#x63D0;&#x5230;&#x9019;&#x500B;&#x5341;&#x5206;&#x91CD;&#x8981;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5B9A;&#x7FA9;&#x4E00;&#x500B;middleware&#x51FD;&#x793A;&#xFF0C;&#x8B93;&#x6BCF;&#x6B21;&#x57F7;&#x884C;&#x8ACB;&#x6C42;&#x4E4B;&#x524D;&#xFF0C;&#x90FD;&#x6703;&#x5148;&#x8B93;middleware&#x57F7;&#x884C;&#x4E00;&#x4E9B;&#x524D;&#x7F6E;&#x4F5C;&#x696D;&#xFF0C;&#x7BC4;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;var express = require(&apos;express&apos;);<br>var router = express.Router();<br><br>//Middleware<br>router.use(function(req, res, next) {<br> &#xA0;//DO SOME THINGS HERE<br> &#xA0;...<br> &#xA0;//go on<br> &#xA0;next();<br>});<br><br>/* some methods. */<br>...<br><br>module.exports = router;</p><blockquote>&#x4F60;&#x53EF;&#x4EE5;&#x900F;&#x904E;middleware&#x5728;&#x57F7;&#x884C;&#x8ACB;&#x6C42;&#x4E4B;&#x524D;&#x5148;&#x9A57;&#x8B49;&#x8ACB;&#x6C42;&#x5167;&#x5BB9;&#x3001;&#x53C3;&#x6578;&#xFF01;</blockquote><p>&#x5176;&#x5BE6;&#x9084;&#x6709;&#x5F88;&#x591A;routing&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x53C3;&#x8003;<a href="https://expressjs.com/zh-tw/guide/routing.html?ref=localhost" rel="noopener">Express&#x8DEF;&#x7531;</a>&#x3002;</p><hr><p>&#x9019;&#x5C31;&#x662F;&#x4E00;&#x4E9B;&#x57FA;&#x672C;&#x7684;Express.js&#x7684;Routing&#x4ECB;&#x7D39;&#x5566;&#xFF0C;&#x6709;&#x4EC0;&#x9EBC;&#x554F;&#x984C;&#x90FD;&#x53EF;&#x4EE5;&#x900F;&#x904E;&#x4FE1;&#x7BB1;&#x806F;&#x7D61;&#x6211;&#xFF1A;b10705052@ntu.edu.tw&#xFF0C;&#x60F3;&#x4E86;&#x89E3;&#x6211;&#x4E5F;&#x53EF;&#x4EE5;&#x53C3;&#x8003;&#x6211;profile&#x4E2D;&#x7684;&#x500B;&#x4EBA;&#x7DB2;&#x9801;&#xFF5E;</p>]]></content:encoded></item><item><title><![CDATA[vite-plugin-ssr Introduction and Simple Implementation]]></title><description><![CDATA[Vite is a front-end development tool independently developed by Evan You, the creator of Vue.js. Its most impressive features are its…]]></description><link>http://localhost:2368/vite-plugin-ssr-introduction-and-simple-implementation/</link><guid isPermaLink="false">646a707090219f1c72e9b6d5</guid><dc:creator><![CDATA[葉又銘 You-Ming Yeh]]></dc:creator><pubDate>Mon, 24 Apr 2023 14:35:32 GMT</pubDate><media:content url="http://localhost:2368/content/images/2023/05/vite.17e50649.svg" medium="image"/><content:encoded><![CDATA[<img src="http://localhost:2368/content/images/2023/05/vite.17e50649.svg" alt="vite-plugin-ssr Introduction and Simple Implementation"><p>Vite is a front-end development tool independently developed by Evan You, the creator of Vue.js. Its most impressive features are its super-fast compilation speed and support for SSR (Server Side Rendering), which is a popular trend in recent years. Today, let&#x2019;s introd</p><p>uce the vite-plugin-ssr plugin.</p><figure class="kg-card kg-image-card"><img src="http://localhost:2368/content/images/max/800/1-ozbp8xwkr0q4diuzfw24dw.png" class="kg-image" alt="vite-plugin-ssr Introduction and Simple Implementation" loading="lazy" width="1440" height="538" srcset="http://localhost:2368/content/images/size/w600/max/800/1-ozbp8xwkr0q4diuzfw24dw.png 600w, http://localhost:2368/content/images/size/w1000/max/800/1-ozbp8xwkr0q4diuzfw24dw.png 1000w, http://localhost:2368/content/images/max/800/1-ozbp8xwkr0q4diuzfw24dw.png 1440w" sizes="(min-width: 720px) 720px"></figure><p>Article structure:</p><ol><li>Introduction to vite-plugin-ssr</li><li>Get Started</li><li>Project Structure Explanation</li><li>Deployment</li></ol><h3 id="introduction-to-vite-plugin-ssr">Introduction to vite-plugin-ssr</h3><p>Here&#x2019;s a sentence from the <a href="https://vite-plugin-ssr.com/?ref=localhost" rel="noopener">official documentation</a>.</p><blockquote><em>Like Next.js/Nuxt but as do-one-thing-do-it-well Vite plugin.</em></blockquote><p>vite-plugin-ssr is a Vite plugin that supports Server Side Rendering (SSR) like Next.js/Nuxt without requiring any configuration or learning new syntax from developers. It is clearly stated by the official document that they require Zero-config.</p><p>What is SSR? In simple terms, SSR can generate a complete HTML page on the server-side and inject data into it before sending it to the browser. This can improve page loading speed, enhance search engine optimization (SEO) effects, and improve user experience.</p><h3 id="get-started">Get Started</h3><p>Let&#x2019;s create a project first. The following tutorial will use npm or yarn cli.&#xFF08;or check <a href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm?ref=localhost" rel="noopener">Node.js</a> &#xFF09;</p><p>using npm:</p><pre><code>npm init vite-plugin-ssr@latest</code></pre><p>using yarn:</p><pre><code>yarn create vite-plugin-ssr</code></pre><p>It will ask you to install packages, choose a project name, and a JavaScript framework.</p><p>Afterwards, follow its instructions:</p><pre><code>cd vite-ssr-project
npm install (or pnpm install / yarn install)
npm run dev (or pnpm run dev / yarn dev)</code></pre><figure class="kg-card kg-image-card"><img src="http://localhost:2368/content/images/max/800/0-jomtyemzexut2gwm.png" class="kg-image" alt="vite-plugin-ssr Introduction and Simple Implementation" loading="lazy" width="800" height="431" srcset="http://localhost:2368/content/images/size/w600/max/800/0-jomtyemzexut2gwm.png 600w, http://localhost:2368/content/images/max/800/0-jomtyemzexut2gwm.png 800w" sizes="(min-width: 720px) 720px"></figure><p>This completes the initialization and the local server has been successfully started!</p><p>Next, we can see the following files and directories under the project directory:&#x251C;&#x2500;&#x2500; .node_modules<br>&#x251C;&#x2500;&#x2500; package-lock.json<br>&#x251C;&#x2500;&#x2500; package.json<br>&#x251C;&#x2500;&#x2500; pages<br>&#x2502; &#x251C;&#x2500;&#x2500; about<br>&#x2502; &#x2502; &#x251C;&#x2500;&#x2500; code.css<br>&#x2502; &#x2502; &#x2514;&#x2500;&#x2500; index.page.jsx<br>&#x2502; &#x2514;&#x2500;&#x2500; index<br>&#x2502; &#x251C;&#x2500;&#x2500; Counter.jsx<br>&#x2502; &#x2514;&#x2500;&#x2500; index.page.jsx<br>&#x251C;&#x2500;&#x2500; renderer<br>&#x2502; &#x251C;&#x2500;&#x2500; Link.jsx<br>&#x2502; &#x251C;&#x2500;&#x2500; PageShell.css<br>&#x2502; &#x251C;&#x2500;&#x2500; PageShell.jsx<br>&#x2502; &#x251C;&#x2500;&#x2500; _default.page.client.jsx<br>&#x2502; &#x251C;&#x2500;&#x2500; _default.page.server.jsx<br>&#x2502; &#x251C;&#x2500;&#x2500; _error.page.jsx<br>&#x2502; &#x251C;&#x2500;&#x2500; logo.svg<br>&#x2502; &#x2514;&#x2500;&#x2500; usePageContext.jsx<br>&#x251C;&#x2500;&#x2500; server<br>&#x2502; &#x2514;&#x2500;&#x2500; index.js<br>&#x2514;&#x2500;&#x2500; vite.config.js</p><ul><li><code>.node_modules</code>: This directory stores the packages and modules you have installed.</li><li><code>package.json</code>: This file is the configuration file for npm packages and npm scripts. It contains information about the package such as name, version, dependencies, and more.</li><li><code>pages</code>: This directory contains a home page and an about page which Vite will bundle into routes.</li><li><code>renderer</code>: <code>PageShell.jsx</code> serves as the basis for the entire app (like <code>App.js</code> in <code>create-react-app</code>) and includes the app&apos;s side bar and contents. <code>_default.page.client.jsx</code>, <code>_default.page.server.jsx</code>, and <code>_error.page.jsx</code> are places where the server requests context.</li><li><code>server</code>: This directory includes <code>server.js</code>, which is used to start the app (request HTML and bundle <code>.js</code> files).</li><li><code>vite.config.js</code>: This file is the configuration file for the Vite tool. For more detailed configuration, refer to the <a href="https://vitejs.dev/config/?ref=localhost" rel="noopener">Vite official website</a>.</li></ul><p>To deploy a project using <code>vite-plugin-ssr</code>, the official documentation provides several methods, but none of them are step-by-step tutorials. It took me a long time to figure out how to deploy <a href="https://linker-eight.vercel.app/workspace?ref=localhost" rel="noopener">my first Vite project</a>. So, let me explain these methods in detail below.</p><h3 id="using-github-pages">Using GitHub Pages</h3><p>GitHub Pages is probably the most commonly used platform for deploying static websites. However, as the name suggests, it cannot handle the SSR feature provided by this plugin.</p><p>In fact, after running <code>npm run build</code>, there are no static HTML files in &#x201C;./dist/**&#x201D;, and currently there is no ready-made package for GitHub Action. We will not discuss the detailed deployment methods for now, but you can refer to <a href="https://vite-plugin-ssr.com/github-pages?ref=localhost" rel="noopener">the official documentation</a>.</p><h3 id="using-vercel">Using Vercel</h3><p>Vercel is a great platform for deploying SSR applications because it allows using a server to fetch render data. <a href="https://github.com/brillout/vite-plugin-ssr_vercel?ref=localhost" rel="noopener">This repo</a> provides a detailed explanation of how to deploy your project using Vercel. In summary, the following steps need to be taken:</p><ol><li>Create a <a href="https://vercel.com/?ref=localhost" rel="noopener">Vercel</a> account.</li><li>Push your project to GitHub and import the repo to Vercel.</li><li>Set up deployment configuration:</li></ol><ul><li><code>FRAMEWORK PRESET</code>&#xFF1A;Select &#x201C;Vite&#x201D; (although it may already be the default)</li><li><code>OUTPUT DIRECTORY</code>&#xFF1A;Change to <code>dist/client</code></li></ul><p>4. Copy the following files from this repo to your project.</p><p>5. Remember that Vercel will automatically redeploy your project every time you push changes to Git.</p><blockquote>If you are still having trouble, you can consider using <a href="https://github.com/brillout/vite-plugin-ssr_vercel?ref=localhost" rel="noopener">this repo</a> as a starting point for your project.</blockquote><h3 id="epilogue">Epilogue</h3><p>That&#x2019;s the introduction to vite-plugin-ssr!</p><p>In fact, I have less than a year of website development experience, and I haven&#x2019;t used many development tools. I think compared to create-react-app, Vite is superior in terms of compile and build speed, as well as various features, which significantly improves development speed.</p><p>However, rare issues may occur during development (such as integration issues with some packages), and errors can only be checked through the browser. But if you are an experienced developer, these problems should not be a big challenge for you!</p><p>If you have any questions, feel free to email me. If you are interested in learning more about me, you can visit <a href="https://yehyouming.web.app/?ref=localhost" rel="noopener">my personal website.</a></p>]]></content:encoded></item><item><title><![CDATA[vite-plugin-ssr介紹與簡單實作]]></title><description><![CDATA[Vite 是一個前端開發工具，由 Vue.js 之父 Evan You 獨立開發🧎，他最厲害的features就是超快ㄉ編譯速度，還有很多現成框架都支援近年來很火的SSR (Server Side Rendering)，今天就來介紹vite-plugin-ssr這個插件吧～]]></description><link>http://localhost:2368/vite-plugin-ssr-e4-bb-8b-e7-b4-b9-e8-88-87-e7-b0-a1-e5-96-ae-e5-af-a6-e4-bd-9c/</link><guid isPermaLink="false">646a707090219f1c72e9b6cf</guid><dc:creator><![CDATA[葉又銘 You-Ming Yeh]]></dc:creator><pubDate>Mon, 24 Apr 2023 14:24:52 GMT</pubDate><media:content url="http://localhost:2368/content/images/2023/05/vite.17e50649-1.svg" medium="image"/><content:encoded><![CDATA[<img src="http://localhost:2368/content/images/2023/05/vite.17e50649-1.svg" alt="vite-plugin-ssr&#x4ECB;&#x7D39;&#x8207;&#x7C21;&#x55AE;&#x5BE6;&#x4F5C;"><p>Vite &#x662F;&#x4E00;&#x500B;&#x524D;&#x7AEF;&#x958B;&#x767C;&#x5DE5;&#x5177;&#xFF0C;&#x7531; Vue.js &#x4E4B;</p><p>&#x7236; Evan You &#x7368;&#x7ACB;&#x958B;&#x767C;&#x1F9CE;&#xFF0C;&#x4ED6;&#x6700;&#x53B2;&#x5BB3;&#x7684;features&#x5C31;&#x662F;&#x8D85;&#x5FEB;&#x3109;&#x7DE8;&#x8B6F;&#x901F;&#x5EA6;&#xFF0C;&#x9084;&#x6709;&#x5F88;&#x591A;&#x73FE;&#x6210;&#x6846;&#x67B6;&#x90FD;&#x652F;&#x63F4;&#x8FD1;&#x5E74;&#x4F86;&#x5F88;&#x706B;&#x7684;SSR (Server Side Rendering)&#xFF0C;&#x4ECA;&#x5929;&#x5C31;&#x4F86;&#x4ECB;&#x7D39;vite-plugin-ssr&#x9019;&#x500B;&#x63D2;&#x4EF6;&#x5427;&#xFF5E;</p><figure class="kg-card kg-image-card"><img src="http://localhost:2368/content/images/max/800/1-ozbp8xwkr0q4diuzfw24dw.png" class="kg-image" alt="vite-plugin-ssr&#x4ECB;&#x7D39;&#x8207;&#x7C21;&#x55AE;&#x5BE6;&#x4F5C;" loading="lazy" width="1440" height="538" srcset="http://localhost:2368/content/images/size/w600/max/800/1-ozbp8xwkr0q4diuzfw24dw.png 600w, http://localhost:2368/content/images/size/w1000/max/800/1-ozbp8xwkr0q4diuzfw24dw.png 1000w, http://localhost:2368/content/images/max/800/1-ozbp8xwkr0q4diuzfw24dw.png 1440w" sizes="(min-width: 720px) 720px"></figure><p>&#x6587;&#x7AE0;&#x7D50;&#x69CB;&#xFF1A;</p><ol><li>&#x7C21;&#x4ECB; vite-plugin-ssr</li><li>&#x958B;&#x59CB; Get Started</li><li>&#x67B6;&#x69CB;&#x8AAA;&#x660E; Project Structure</li><li>&#x90E8;&#x7F72; deploy</li></ol><h3 id="-vite-plugin-ssr">&#x7C21;&#x4ECB; vite-plugin-ssr</h3><p>&#x5957;&#x4E00;&#x53E5;<a href="https://vite-plugin-ssr.com/?ref=localhost" rel="noopener">&#x5B98;&#x65B9;document</a>&#x7684;&#x4E00;&#x53E5;&#x8A71;</p><blockquote>Like Next.js/Nuxt but as do-one-thing-do-it-well Vite plugin.</blockquote><p>vite-plugin-ssr&#x662F;&#x4E00;&#x500B;Vite&#x63D2;&#x4EF6;&#xFF0C;&#x80FD;&#x5920;&#x5411;Next.js/Nuxt&#x4E00;&#x6A23;&#x652F;&#x63F4;Server Side Rendering&#xFF08;&#x4F3A;&#x670D;&#x5668;&#x7AEF;&#x6E32;&#x67D3;&#xFF09;&#x537B;&#x4E0D;&#x9700;&#x8981;&#x958B;&#x767C;&#x8005;&#x505A;&#x4EFB;&#x4F55;&#x8A2D;&#x5B9A;&#x3001;&#x5B78;&#x7FD2;&#x65B0;&#x8A9E;&#x6CD5;&#xFF0C;&#x5B98;&#x65B9;&#x4E5F;&#x5F88;&#x8868;&#x660E;&#x7684;&#x8AAA;&#x4ED6;&#x5011;require Zero-config&#x3002;</p><p>SSR&#x662F;&#x4EC0;&#x9EBC;&#x5462;&#xFF1F;&#x7C21;&#x55AE;&#x4F86;&#x8AAA;&#xFF0C;SSR&#x53EF;&#x4EE5;&#x5728;&#x4F3A;&#x670D;&#x5668;&#x7AEF;&#x751F;&#x6210;&#x5B8C;&#x6574;&#x7684;HTML&#x9801;&#x9762;&#xFF0C;&#x4E26;&#x5728;&#x767C;&#x9001;&#x5230;&#x700F;&#x89BD;&#x5668;&#x4E4B;&#x524D;&#x5C07;&#x5176;&#x6CE8;&#x5165;&#x8CC7;&#x6599;&#x3002;&#x9019;&#x6A23;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x9801;&#x9762;&#x7684;&#x52A0;&#x8F09;&#x901F;&#x5EA6;&#xFF0C;&#x6539;&#x5584;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x512A;&#x5316;&#xFF08;SEO&#xFF09;&#x6548;&#x679C;&#xFF0C;&#x4E26;&#x63D0;&#x9AD8;&#x7528;&#x6236;&#x9AD4;&#x9A57;&#x3002;</p><h3 id="-get-started">&#x958B;&#x59CB; Get Started</h3><p>&#x90A3;&#x6211;&#x5011;&#x5148;&#x5275;&#x5EFA;&#x4E00;&#x500B;&#x5C08;&#x6848;&#x5427;&#xFF0C;&#x4EE5;&#x4E0B;&#x6559;&#x5B78;&#x6703;&#x4F7F;&#x7528;npm or yarn cli&#xFF08;&#x53EF;&#x53C3;&#x8003;<a href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm?ref=localhost" rel="noopener">Node.js&#x5B98;&#x7DB2;</a>&#xFF09;</p><p>&#x4F7F;&#x7528;npm:</p><p>npm init vite-plugin-ssr@latest</p><p>&#x4F7F;&#x7528;yarn:</p><p>yarn create vite-plugin-ssr</p><p>&#x4ED6;&#x6703;&#x8ACB;&#x4F60;&#x5B89;&#x88DD;&#x5957;&#x4EF6;&#x3001;&#x9078;&#x64C7;&#x5C08;&#x6848;&#x540D;&#x7A31;&#x3001;javascript&#x6846;&#x67B6;</p><p>&#x5B8C;&#x6210;&#x5F8C;&#x4F9D;&#x7167;&#x4ED6;&#x7684;&#x6307;&#x793A;</p><p>cd vite-ssr-project/<br>npm install (or pnpm install / yarn install)<br>npm run dev (or pnpm run dev / yarn dev)</p><figure class="kg-card kg-image-card"><img src="http://localhost:2368/content/images/max/800/1-f3sqwkx1yirszdb_2reduq.png" class="kg-image" alt="vite-plugin-ssr&#x4ECB;&#x7D39;&#x8207;&#x7C21;&#x55AE;&#x5BE6;&#x4F5C;" loading="lazy" width="800" height="431" srcset="http://localhost:2368/content/images/size/w600/max/800/1-f3sqwkx1yirszdb_2reduq.png 600w, http://localhost:2368/content/images/max/800/1-f3sqwkx1yirszdb_2reduq.png 800w" sizes="(min-width: 720px) 720px"></figure><p>&#x9019;&#x6A23;&#x5C31;&#x5B8C;&#x6210;&#x521D;&#x59CB;&#x5316;&#x4E26;&#x5728; local &#x7AEF;&#x6210;&#x529F; start &#x4E86;&#xFF01;</p><h3 id="-project-structure">&#x67B6;&#x69CB;&#x8AAA;&#x660E; Project Structure</h3><p>&#x63A5;&#x8457;&#x6211;&#x5011;&#x5728;&#x5C08;&#x6848;&#x76EE;&#x9304;&#x4E0B;&#x6703;&#x770B;&#x5230;&#xFF1A;&#x251C;&#x2500;&#x2500; .node_modules<br>&#x251C;&#x2500;&#x2500; package-lock.json<br>&#x251C;&#x2500;&#x2500; package.json<br>&#x251C;&#x2500;&#x2500; pages<br>&#x2502; &#xA0; &#x251C;&#x2500;&#x2500; about<br>&#x2502; &#xA0; &#x2502; &#xA0; &#x251C;&#x2500;&#x2500; code.css<br>&#x2502; &#xA0; &#x2502; &#xA0; &#x2514;&#x2500;&#x2500; index.page.jsx<br>&#x2502; &#xA0; &#x2514;&#x2500;&#x2500; index<br>&#x2502; &#xA0; &#xA0; &#xA0; &#x251C;&#x2500;&#x2500; Counter.jsx<br>&#x2502; &#xA0; &#xA0; &#xA0; &#x2514;&#x2500;&#x2500; index.page.jsx<br>&#x251C;&#x2500;&#x2500; renderer<br>&#x2502; &#xA0; &#x251C;&#x2500;&#x2500; Link.jsx<br>&#x2502; &#xA0; &#x251C;&#x2500;&#x2500; PageShell.css<br>&#x2502; &#xA0; &#x251C;&#x2500;&#x2500; PageShell.jsx<br>&#x2502; &#xA0; &#x251C;&#x2500;&#x2500; _default.page.client.jsx<br>&#x2502; &#xA0; &#x251C;&#x2500;&#x2500; _default.page.server.jsx<br>&#x2502; &#xA0; &#x251C;&#x2500;&#x2500; _error.page.jsx<br>&#x2502; &#xA0; &#x251C;&#x2500;&#x2500; logo.svg<br>&#x2502; &#xA0; &#x2514;&#x2500;&#x2500; usePageContext.jsx<br>&#x251C;&#x2500;&#x2500; server<br>&#x2502; &#xA0; &#x2514;&#x2500;&#x2500; index.js<br>&#x2514;&#x2500;&#x2500; vite.config.js</p><ul><li><code>.node_modules</code>&#xFF1A;&#x9019;&#x500B;&#x76EE;&#x9304;&#x5132;&#x5B58;&#x4F60;&#x5B89;&#x88DD;&#x7684;&#x5957;&#x4EF6;&#x3001;&#x6A21;&#x7D44;</li><li><code>package.json</code>&#xFF1A;&#x9019;&#x500B;&#x6A94;&#x6848;&#x662F; npm &#x5957;&#x4EF6;&#x7684;&#x914D;&#x7F6E;&#x6A94;&#x6848;&#x3001;npm scripts&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x4E86;&#x5957;&#x4EF6;&#x7684;&#x540D;&#x7A31;&#x3001;&#x7248;&#x672C;&#x3001;dependencies&#x7B49;&#x8A0A;&#x606F;&#x3002;</li><li><code>pages</code>&#xFF1A;&#x9019;&#x500B;&#x76EE;&#x9304;&#x5132;&#x5B58;&#x4E86;&#x4E00;&#x500B;home page&#x3001;&#x4E00;&#x500B;about page&#xFF0C;Vite&#x6703;&#x5C07;&#x5176;&#x6253;&#x5305;&#x6210;routes&#x3002;</li><li><code>renderer</code>&#xFF1A;<code>PageShell.jsx</code> &#x53EF;&#x4EE5;&#x7576;&#x4F5C;&#x662F;&#x4E00;&#x500B;&#x6574;&#x500B; App &#x7684;&#x4F9D;&#x64DA;&#xFF08;&#x5982;&#x540C;create-react-app&#x7684;<code>App.js</code>&#xFF09;&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x4E86;App &#x7684; Side Bar&#x3001;Contents&#x3002;<code>_default.page.client.jsx</code>&#x3001;<code>_default.page.server.jsx</code>&#x3001;<code>_error.page.jsx</code> &#x5247;&#x662F;server&#x7528;&#x4F86;request context&#x7684;&#x5730;&#x65B9;&#x3002;</li><li><code>server</code>&#xFF1A;&#x9019;&#x500B;&#x76EE;&#x9304;&#x5305;&#x542B;&#x4E86;&#x7528;&#x4F86;&#x555F;&#x52D5; App &#xFF08;request HTML&#x548C;&#x6253;&#x5305;.js&#x6A94;&#xFF09;&#x7684;<code>server.js</code> &#x3002;</li><li><code>vite.config.js</code>&#xFF1A;&#x9019;&#x500B;&#x6A94;&#x6848;&#x662F; Vite &#x5DE5;&#x5177;&#x7684;&#x8A2D;&#x5B9A;&#x6A94;&#x6848;&#xFF0C;&#x8A73;&#x7D30;&#x8A2D;&#x5B9A;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x898B;<a href="https://vitejs.dev/config/?ref=localhost" rel="noopener">Vite&#x5B98;&#x7DB2;</a>&#x3002;</li></ul><h3 id="-deploy">&#x90E8;&#x7F72; deploy</h3><p>&#x8981;&#x90E8;&#x7F72;&#x4E00;&#x500B;vite-plugin-ssr &#x7684;&#x5C08;&#x6848;&#x6A94;&#xFF0C;&#x5B98;&#x65B9;&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x5F88;&#x591A;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x90FD;&#x4E0D;&#x662F;&#x624B;&#x628A;&#x624B;&#x6559;&#x5B78;&#xFF0C;&#x6211;&#x81EA;&#x5DF1;&#x4E5F;&#x662F;&#x7814;&#x7A76;&#x4E86;&#x5F88;&#x4E45;&#x624D;&#x6210;&#x529F;&#x90E8;&#x7F72;&#x4E86;<a href="https://linker-eight.vercel.app/workspace?ref=localhost" rel="noopener">&#x6211;&#x7684;&#x7B2C;&#x4E00;&#x500B;Vite&#x5C08;&#x6848;</a>&#xFF0C;&#x4EE5;&#x4E0B;&#x5C31;&#x8B93;&#x6211;&#x6162;&#x6162;&#x8AAA;&#x660E;&#x9019;&#x4E9B;&#x65B9;&#x6CD5;&#x5427;&#xFF5E;</p><h4 id="-github-pages">&#x4F7F;&#x7528;GitHub Pages</h4><p>GitHub Pages&#x61C9;&#x8A72;&#x662F;&#x5927;&#x591A;&#x975C;&#x614B;&#x7DB2;&#x7AD9;&#x90E8;&#x7F72;&#x7684;&#x5E73;&#x53F0;&#xFF0C;<strong>&#x975C;&#x614B;&#x7DB2;&#x7AD9;</strong>&#x9867;&#x540D;&#x601D;&#x7FA9;&#x5B83;&#x7121;&#x6CD5;&#x8655;&#x7406;&#x50CF;&#x9019;&#x500B;&#x63D2;&#x4EF6;&#x63D0;&#x4F9B;&#x7684;SSr feature&#x3002;</p><p>&#x4E8B;&#x5BE6;&#x4E0A;&#xFF0C;&#x57F7;&#x884C; <code>npm run build</code> &#x5F8C;&#xFF0C;&#x4E26;&#x6C92;&#x6709;&#x4EFB;&#x4F55;static .html&#x6A94;&#x6848;&#x5728;./dist/**&#x4E0B;&#xFF0C;&#x76EE;&#x524D;GitHub Action&#x4E5F;&#x6C92;&#x6709;&#x73FE;&#x6210;&#x7684;&#x5957;&#x4EF6;&#xFF0C;&#x6211;&#x5011;&#x5C31;&#x5148;&#x4E0D;&#x8A0E;&#x8AD6;&#x8A73;&#x7D30;&#x90E8;&#x7F72;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x53C3;&#x8003;<a href="https://vite-plugin-ssr.com/github-pages?ref=localhost" rel="noopener">&#x5B98;&#x65B9;document</a>&#x3002;</p><h4 id="-vercel">&#x4F7F;&#x7528;Vercel</h4><p>&#x4F7F;&#x7528;Vercel&#x90E8;&#x7F72;&#x652F;&#x63F4;SSR&#xFF0C;&#x56E0;&#x70BA;&#x5B83;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;server&#x53BB;&#x6293;&#x53D6;render&#x8CC7;&#x6599;&#xFF5E;</p><p><a href="https://github.com/brillout/vite-plugin-ssr_vercel?ref=localhost" rel="noopener">&#x9019;&#x500B;Repo</a>&#x8A73;&#x7D30;&#x8AAA;&#x660E;&#x4E86;&#x4F7F;&#x7528;Vercel&#x90E8;&#x7F72;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x7C21;&#x55AE;&#x4F86;&#x8AAA;&#x6709;&#x4EE5;&#x4E0B;&#x6B65;&#x9A5F;&#xFF1A;</p><ol><li>&#x5275;&#x5EFA;&#x4E00;&#x500B;<a href="https://vercel.com/?ref=localhost" rel="noopener">Vercel</a>&#x5E33;&#x865F;</li><li>&#x5C07;&#x4F60;&#x7684;&#x5C08;&#x6848;push&#x5230;GitHub&#x4E0A;&#xFF0C;&#x4E26;&#x5728;Vercel&#x4E0A;import&#x9019;&#x500B;repo</li><li>&#x90E8;&#x7F72;&#x8A2D;&#x5B9A;</li></ol><ul><li><code>FRAMEWORK PRESET</code>&#xFF1A;&#x9078;&#x64C7;Vite&#xFF0C;&#x96D6;&#x7136;default&#x5C31;&#x662F;&#x4E86;</li><li><code>OUTPUT DIRECTORY</code>&#xFF1A;&#x66F4;&#x6539;&#x70BA;<code>dist/client</code></li></ul><p>4. &#x8907;&#x88FD;<a href="https://github.com/brillout/vite-plugin-ssr_vercel?ref=localhost" rel="noopener">&#x9019;&#x500B;Repo</a>&#x4E0A;&#x7684;&#x4EE5;&#x4E0B;&#x6A94;&#x6848;&#x5230;&#x4F60;&#x7684;&#x5C08;&#x6848;&#x4E2D;</p><ul><li>API Route: <a href="https://github.com/brillout/vite-plugin-ssr_vercel/blob/main/api/ssr.js?ref=localhost" rel="noopener">api/ssr.js</a>.</li><li>Routing URLs to <code>api/ssr.js</code>: <a href="https://github.com/brillout/vite-plugin-ssr_vercel/blob/main/vercel.json?ref=localhost" rel="noopener">vercel.json#rewrites</a>.</li><li>Build: &#x4F9D;&#x7167;&#x4E26;&#x66F4;&#x6539; <a href="https://github.com/brillout/vite-plugin-ssr_vercel/blob/main/package.json?ref=localhost" rel="noopener">package.json</a>&#x2019;s scripts <code>package.json#scripts[&apos;vercel-build&apos;]</code> and <code>package.json#scripts.build</code>.</li><li>Development: &#x4F9D;&#x7167;&#x4E26;&#x66F4;&#x6539; <a href="https://github.com/brillout/vite-plugin-ssr_vercel/blob/main/package.json?ref=localhost" rel="noopener">package.json</a>&#x2019;s script <code>package.json#scripts.dev</code></li></ul><p>5. &#x8A18;&#x5F97;&#x6BCF;&#x6B21;git push&#xFF0C;Vercel&#x90FD;&#x6703;&#x81EA;&#x52D5;&#x91CD;&#x65B0;&#x90E8;&#x7F72;&#xFF5E;</p><blockquote>&#x5982;&#x679C;&#x4E00;&#x76F4;&#x5931;&#x6557;&#x3001;&#x53EF;&#x4EE5;&#x8003;&#x616E;&#x76F4;&#x63A5;&#x7528;&#x9019;&#x500B;repo&#x4E0B;&#x53BB;&#x5BEB;&#x5594;&#xFF01;</blockquote><h3 id="-epilogue">&#x7D50;&#x8A9E; Epilogue</h3><p>&#x9019;&#x5C31;&#x662F;vite-plugin-ssr&#x7684;&#x7C21;&#x4ECB;&#x5566;&#xFF01;&#x5176;&#x5BE6;&#x6211;&#x7DB2;&#x7AD9;&#x958B;&#x767C;&#x7D93;&#x9A57;&#x4E5F;&#x9084;&#x4E0D;&#x5230;&#x4E00;&#x5E74;&#xFF0C;&#x63A5;&#x89F8;&#x904E;&#x958B;&#x767C;&#x5DE5;&#x5177;&#x4E5F;&#x4E0D;&#x591A;&#xFF0C;&#x6211;&#x8A8D;&#x70BA;&#x76F8;&#x8F03;&#x65BC;create-react-app&#xFF0C;Vite&#x5728;compile&#x3001;build&#x7684;&#x901F;&#x5EA6;&#x4EE5;&#x53CA;&#x5404;&#x7A2E;feature&#x4E0A;&#x662F;&#x5927;&#x52DD;&#x3109;&#xFF01;&#x958B;&#x767C;&#x901F;&#x5EA6;&#x4E5F;&#x6709;&#x660E;&#x986F;&#x63D0;&#x5347;</p><p>&#x4F46;&#x958B;&#x767C;&#x4E0A;&#x6703;&#x5F88;&#x5E38;&#x9047;&#x5230;&#x4E00;&#x4E9B;&#x5F88;&#x5C11;&#x898B;&#x7684;issues&#xFF08;&#x50CF;&#x662F;&#x4E00;&#x4E9B;&#x5957;&#x4EF6;&#x7684;Intergration&#xFF09;&#xFF0C;error&#x4E5F;&#x53EA;&#x80FD;&#x900F;&#x904E;browser&#x6AA2;&#x67E5;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x4F60;&#x662F;&#x8CC7;&#x6DF1;&#x7684;&#x958B;&#x767C;&#x8005;&#xFF0C;&#x9019;&#x4E9B;&#x554F;&#x984C;&#x5C0D;&#x4F60;&#x4F86;&#x8AAA;&#x4E00;&#x5B9A;&#x8FCE;&#x5203;&#x800C;&#x89E3;&#x5566;&#xFF01;</p><p>&#x5982;&#x679C;&#x6709;&#x4EFB;&#x4F55;&#x554F;&#x984C;&#x60F3;&#x554F;&#x6211;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5BC4;&#x4FE1;&#x7D66;&#x6211;&#xFF5E;&#x5982;&#x679C;&#x6709;&#x8208;&#x8DA3;&#x66F4;&#x4E86;&#x89E3;&#x6211;&#xFF0C;&#x53EF;&#x4EE5;&#x53C3;&#x8003;&#x6211;&#x7684;<a href="https://yehyouming.web.app/?ref=localhost" rel="noopener">&#x500B;&#x4EBA;&#x7DB2;&#x7AD9;</a>&#x3002;</p>]]></content:encoded></item></channel></rss>